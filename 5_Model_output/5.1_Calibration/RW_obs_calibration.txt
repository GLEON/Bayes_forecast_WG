######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-15 14:34:58 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(906228972, 398676126)
"mu" <- structure(c(-4.99795002981757, -4.87737278509363, -5.09222011087848, -5.03206833287982, -5.06610988740335, -4.95390095408906, -4.77422573437099, -2.19583353238539, -5.09977901777279, -4.81501651434383, -5.23700596209604, -3.98682390456622, -4.84292760877227, -3.00694802150131, -5.52103477138801, -3.61394424367512, -4.29115590402254, -4.54245876331538, -2.94878153889381, -3.31550762954037, -4.6492370023361, -1.23915128704671, -3.61887275286231, -2.67169084461581, -4.13818864512713, -2.4472730450291, -5.25405797214341, -1.39271279671825, -3.41407941551605, -1.10960547893604, -4.55258517519702, -0.503532240034473, -4.32957924155141, -2.98442124220235, -3.07131961689486, -0.14402822213885, -2.3029279263995, -2.46598077424386, -5.244326975697, -1.29237186147624, -3.27656616704031, 0.448962349585352, -1.21500344484433, -2.11477909971882, -2.26573619746192, -1.62853350654973, -2.06219141931222, 0.390422256098019, -0.749630243843002, -1.61832731429365, -1.4751215358129, -1.70354361619981, -1.65352159934276, 0.257820278231205, -0.706779323251925, -1.61269755137628, -0.201979612521844, -0.518905267221481, -0.986107949650422, -0.379170256609439, -0.640550823141778, 1.62805092354246, -0.836198175919715, -0.37418983300545, -1.51453613855738, 1.72553667907321, -1.42701918639453, 3.26479915501241, -0.774900184743849, -0.475742580299806, -1.05048454235475, 0.0337434981939819, 0.879700129275606, 3.69806662663598, 0.211032419659503, -1.34355697229341, -0.0841990927464851, 1.56559550868164, -0.757532116503231, 1.66079628548148, 1.11375115863594, -2.48336395546617, 0.497108454374552, -1.11674986544689, -0.28369238313584, 0.015014913488497, 0.771929130242012, -1.28895003476495, 0.676917179861144, 0.00592929361447751, -0.718378539722781, -1.01190123739274, -0.754861384206049, -1.56946077327764, 1.57433321268106, -0.157021738519869, -1.31174078004025, -1.01074228571026, -2.01895980339694, -0.534966856683649, 2.78350414562581, 0.365254392789431, 0.151807003668388, -3.10972544503587, -3.22887292682793, -0.933860861809098, 4.07234934573418, -1.81381452964177, -0.152708014868996, -3.30126387497751, -5.17802154057847, -2.75398949150531, 0.417476189148503, -2.48649697899306, -0.199418716629751, -3.22949224229883, -4.43073928680565, -4.12480561923341, -1.71121428997458, -2.64899737334435), .Dim = c(6, 20))
"tau_obs" <- 2.02453509122087
"tau_proc" <- 0.705273031662554
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(-1675410964, 1888429949)
"mu" <- structure(c(-4.80567637999643, -4.99013981506846, -4.86473897838725, -5.04809835558946, -4.81185284527162, -4.98265923186465, -5.03051909242482, -1.62745191272349, -4.71649713777301, -4.32378623656564, -4.59834770984707, -4.90238760144228, -5.82413131187477, -3.7224745054928, -4.96694771673031, -3.54030247195877, -4.8384164756563, -5.08039958783943, -3.46719847194875, -3.85035407935791, -5.39143551115281, -1.22738586351945, -3.02058662744237, -3.07540026157294, -3.80359698356806, -2.45667399304662, -4.94893264657129, -1.58042714558073, -3.43624389040261, -1.28913246689277, -5.37496275787048, 0.281881061181673, -5.71884284158231, -3.00115957731782, -4.750041210274, 0.582096713879174, -2.53163514481824, -2.50801617736209, -3.88640145465879, -2.06673748743715, -2.01154311259057, 0.88099947290202, -1.5450218639319, -1.8689493260424, -2.28068267314386, -1.86857856511355, -2.72605821564701, 0.62341135486567, -0.547296174933909, -0.982597445587263, -1.38606788925036, -0.798581600700928, -1.60433801219505, 0.722921649462006, 0.0792019577373182, -0.92378491084209, -1.29864281602726, 0.0490752207405666, -1.07811557534019, 0.750170387128837, -1.00748959100335, 2.489713062955, -0.765328806564928, -0.523011453342138, -0.644298479127462, 0.439347094293926, -2.73525854720891, 4.38821227957065, -0.75264047381175, -0.0936956317036012, -0.417682919095201, -0.643744328612724, -0.785728807689885, 4.0599576055921, 0.658682924957746, -1.09567095061895, -0.27160448544604, 0.317714951780599, -0.606028672736527, 1.88365472339025, 1.1773414403722, -0.929401168090342, 0.916564579201718, -0.582970573288885, -1.76376162120795, -0.341533862291392, 0.270925226081288, -1.35951418513245, 1.0771216754144, -0.381584894273355, -1.17541624255664, -0.102322753771689, -2.08558738761849, -0.721192984781144, 2.06728646140807, 0.126344328980147, -1.20230401404726, -1.89278904862423, -2.06648243094043, -0.8043273030425, 2.72562047139237, -0.19709918702282, 0.926831637183379, -2.19522490099096, -3.6518663677063, -1.26392296072358, 2.94697980328224, -2.93985985668074, 1.87571870479894, -3.06441273235613, -5.224142050368, -3.04681523389266, 0.0388997428183989, -4.24947987196219, 0.64758408527227, -2.56828728046217, -5.40682687727449, -3.22473208791515, -1.22666176139534, -2.50362834947913), .Dim = c(6, 20))
"tau_obs" <- 2.31427976717066
"tau_proc" <- 0.519431537993287
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(427, -1597071575, -1982709289, -799988633, -2097659008, 11403192, 366996060, 837871542, 669327838, 1260535560, -224651623, 1498095162, 500527644, -409396783, -859920576, -1425620557, -156872592, -344644313, -738903883, -870679755, 490295328, -24104747, -637386349, 663481649, 1219380819, 1115367835, 1736951272, 1459702917, 1695532052, -683032532, -2031733530, 2011645292, 797165147, -1787116749, -346845231, -653247481, -96606574, -1615118932, -2090636715, -1132968442, -464900698, 1560074618, -120640525, 659831704, 1057565442, -2024575185, 1489032261, 1724404987, 1907196919, -714637415, -2107593590, -940082556, -1126455602, 2088436591, -301479502, 2121083983, -76128364, 1790715931, -300884688, 2032231951, 177017662, 2093616894, 1700863823, 938589369, 1129738174, -1966057053, 259249675, -389516401, -715000137, -1832537741, -296561759, -1510537261, 749042471, -935039670, -884666831, -573671907, -822254617, -503656960, 1907560250, -1593453036, 1198437475, 1779102816, 1112547431, -828912723, 988118113, -168519674, -1931687969, 1988253046, 1434588870, 101231148, -1864387324, 1436360555, 401184821, 1927255104, -212134834, -1097130324, -1941016291, -1344232294, -980302287, -1041443436, -1989561058, 796284421, 467396874, -1757713533, -2120589154, -1588549556, -2024051260, 704249870, -1270410008, -1984566684, -2025938417, 192418160, 1825585685, -1182523291, 2099217397, 944719899, -839895095, -1252554774, -847713338, -366490733, 1905633200, 867322832, -855554527, 1873182590, -538004059, 525604319, 1577870309, -444715342, 2078673943, 2088612309, 298780953, -1255919235, 1315280849, 964903393, -1664108088, -964371314, -40536050, 1376045534, 2061744569, -311451154, 1698645094, 1095678246, 136996187, 86663715, 43733707, 1269345979, 435946012, 463593855, 1007482780, 825520957, 1564262179, -1612038421, 1726299660, -1946875691, -1529965279, -1845762754, 2066192863, 2049701955, -1107405321, -328418453, -1592006247, -2011120529, 604301110, 1510059773, 2027186814, -622087047, -1354453384, -1181112080, -1471006022, -735328274, -250613408, 878452221, -588091542, 16187424, 533096282, 695083731, 1652602869, -973465239, 477144137, 77860491, -1472201808, 955725520, 2118205783, 1461699594, 903195186, 1717361664, -1578419858, 1415548387, 621735559, -1102718988, 588324469, 879326503, 844866749, -1806551487, 2027114272, 1702928459, 1593506790, -16018909, 842660805, 1663605132, -816963415, -908265622, -1189191255, 882384860, 85081115, -277378082, 2007046642, -1228023973, 1078468272, -1748358641, 565976942, -362765171, -1647884407, -198073155, 1123356242, -87544512, 1722499416, 723956514, 1066792194, 1807311363, 889073306, -1118186666, 1673314440, 13056350, -46161808, 2032006639, -284968468, 1179843069, -1332863062, -1091563584, 685656268, 791319848, 1163034601, -2144580, -791543513, 793629117, 2080058978, -482600155, 1802522921, 1664436256, -1768287386, -606268466, 216512987, -286552980, -108935312, 1453510147, -246206326, 1873805881, -1525897978, 73788328, -789171129, -1770957414, 1070654791, 1667530020, 2111363284, -679270975, 1105188583, -1802811371, 1692615808, 1583776435, 2040041245, -1326953808, -1429149180, 621016052, -1966061915, -505790917, -2057390797, -1455454646, -1123016511, 1751871870, 1688107021, 1534770469, 825401123, -188732182, 1026420474, -1748459900, 133093873, -41307233, 1382423846, -1295730655, -1818324565, -1123337109, 882994800, 1431597745, 454182783, 1202438492, 1586633042, -853469619, -815886595, 1956115035, -1964147305, 341098642, 675889975, 510587239, -857918252, 531986484, 359080581, -1473275713, -1768440588, -578989731, -941400301, -26019762, -1216618149, 1122573713, 1216156025, -511130658, 260261706, -1487220237, 712643274, -151513245, 507325476, -1243681213, -876617809, -1913855470, 388298908, -1557805018, 1698253720, -1920987309, 603744526, -1427701444, 790263648, -564952373, -1124798301, 672705550, -381207113, -1240719303, 775062510, -571606206, 1765598376, 1496697879, -730476192, 1244385685, 709831973, 1985779492, 710383244, 1659742597, 2028887085, -825584370, -312009341, -411096871, 784981418, 1826537393, -1423451198, -1591195867, 391327740, -1266398244, -115366129, -1598176187, 170973394, -1642076600, 1909368317, -449468353, 812483051, 1234779327, -832049022, 2053796350, 895912971, -1804228950, -1570365865, -778007295, 1252481046, 1102068739, -156663605, -1473906325, 294496044, -10088434, 460007354, 611317195, -1269007654, -1251762179, 1361626684, 1635688707, 499951815, 1589091283, -499483237, -174507417, 1851919842, 1523671915, -599130270, -1600997052, 1349289781, 782543539, 69678652, 828921838, 394779565, 1841851967, -995661905, 558938165, 367142210, -1397161076, -838252274, 1130497210, -1237434859, 964588914, -277272192, -1620355517, -1122665352, -1164015419, -2075522131, -107233776, -1974755483, -2110541057, 1171732394, -2055999706, -1481117636, 487886078, 250538153, 1669266413, 1898262754, 6917734, -130621292, 1908538186, -718898658, -522025739, -2040033620, 592291812, -531154858, -663611200, -52851106, 663860785, -1267635730, 853877389, -1046820309, -1662716245, -1183401753, 1853307858, -1369810871, 2041988363, 787534460, -232496097, -777294082, 1827078854, -1331423433, -944353557, -1013252208, 54750168, -176310752, 998449378, 1044080772, -1195663446, 1214049643, -172621984, 835111803, -192778131, 200365540, -232033079, -1271094926, -1656282924, -2097455877, 997690977, -1411116041, -1490123004, -1935240219, 1334632355, -478867168, 1479337343, -690171059, -1039477734, -276320646, 243890861, -427796666, 841992714, -1527665783, -720565703, 1000045970, -1129953152, 773563382, 1449090540, 1062020263, 319620328, 486423773, -203983870, 2102235922, 559660097, 1880857523, 1780649488, -1801349496, -1190933476, -2037655604, 1600075386, -1137347298, 337007822, -1844563726, 622867289, -1451010841, 734047179, 1204035807, -1473973371, -691103517, 1404427926, 1164895226, -1158769062, -1378691356, -1343524438, -38078622, 1189538106, 2063542547, 2130678726, -994684353, 576662022, -1006221030, -620233796, -1015197261, 1403868438, -1691041230, -1720014053, 137466883, 657750016, -319143751, -1852572429, -776754066, 1951133227, -1967652390, -840835304, 1047894519, -1596276366, -842683085, -1797750091, -12568390, -112597037, -1794580840, 357539667, 769789831, 550670152, 131328700, 789632940, -588129925, 1358566019, 845478452, -654388615, 1262783422, 542163681, -832876262, -1865505753, -325405378, -1253690929, 1901983937, 2020345378, -599755103, 66905522, -684016747, -377313647, 119829584, -1629909915, -1795293350, -57557428, -258588069, -667788299, -1531091508, -638382071, -2112460999, -1727793035, 763513377, -1877188951, 2139084695, 1284492603, 1129782868, -1639523287, 1060650456, -1677528580, 289378733, -1658114771, 1147186073, 927869085, -815272702, -512258968, -358081540, -1439691178, 619664648, -1014756160, -1445541894, 13561369, 1167948896, 980740055, -1990919713, 390021534, 1180429134, 1764359363, 1706062089, 1301117424, 199416228, -1535953481, -1532429690, 1507636174, -294723862, 1845996105, 1592570994, -150663636, -67559597, 488273512, -1723760577, -814426770, 1908408452, -518121296, -2042440532, -1622632650, -757034903, 1316406552, -1343990213, -1391588134, 979688265, -1942951383, -2042967101, -1831100187, 430777930, -1514537311, 860306697, 174224616, 550824625, 1794705056, -773842235, 1448834010, -767281409, 532608596, 469948204, -1380091962, 1139432797, -1171526149, -1449558764, 1447742252, 1227595016, 1248702048, 160580712, -510364742, 1945204622)
"mu" <- structure(c(-5.03691277004038, -4.8048232342914, -5.09371299208697, -5.00924297797205, -4.95915901174309, -4.9564825596351, -4.82684576618055, -3.32874978494564, -4.89882230818187, -4.7970499928339, -4.44868847554469, -4.29027912795303, -2.90102925510446, -2.78893604705126, -4.43797322782936, -3.40309196233462, -2.9676792049821, -3.81918231877876, -3.98610661832544, -2.71943361768255, -4.20623771205944, -1.42129210500402, -3.74826074545916, -1.61889428439045, -4.07646647568806, -2.07326977713257, -4.49815710247814, -2.07410909187644, -2.69414577825144, -1.64668495501348, -5.24333644157489, 0.0622826298953179, -4.32074532545178, -3.67167634166644, -2.48783503881337, 0.610201946179591, -2.67103390547459, -1.25998311323658, -4.00188904648143, -2.31559913732581, -3.01951757349965, 1.96492285499923, -1.48731422688741, -1.78284485475281, -2.2155736247874, -2.59484498086347, -3.00909331010127, 0.129430553970814, -0.924018899517202, -1.28051257241766, -1.54046852718167, -2.0478958984344, -2.15288884706746, 0.785637512901415, -0.255633258661737, -1.06029123668322, -1.74123118993921, -0.330743208468897, -1.3045291834176, 0.251322477088245, -1.86372175596831, 3.01541706763062, -1.04646239086442, -0.940966643677477, -0.558971477669866, -0.410910247705764, -1.29994378729224, 1.62597747983431, -0.454488540398677, -0.648034620180731, -0.0610865274890023, -0.83995973924873, 0.711808440108247, 2.54068699217594, 0.645656265143286, -1.82300404575863, -0.781495136168068, 0.514797441112976, -0.341017982286057, 1.63626540170618, 0.280691731181959, -0.813747816503522, 1.4422661824941, -1.21061836636578, -0.393071277233553, -1.00192819845272, 0.920847280355877, -0.0406802435547316, 0.970245344498034, -0.831957819760777, -1.41224759274759, -1.16303824962666, -0.911020606214972, -0.637750337067281, 1.77125321987014, -0.242714479862529, -2.46244975727013, -1.84410559560714, -3.26391265804517, 0.0254088799499923, 2.09623151279152, -0.51374476611823, 0.0268912325177099, -2.13423754913847, -3.60777556344751, -1.50623791211527, 2.88134914734705, -1.96489493470728, -1.54230637061789, -3.69378924589862, -4.54997907644151, -2.27914310165654, -0.469727273202817, -3.80081665511543, 0.336012443821189, -3.7441589869584, -5.83356438267862, -4.65452039976728, -2.44330645350668, -1.26942980419476), .Dim = c(6, 20))
"tau_obs" <- 1.59840098069853
"tau_proc" <- 0.625495039702866
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-3.85980369014249, -2.86343927118061, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.26355862228935, -1.85743696973239, -4.26355862228935, -4.95159275346247, -4.95159275346247, -4.26355862228935, NA, -3.85980369014249, -4.95159275346247, -2.86343927118061, -4.95159275346247, -4.95159275346247, -3.1683696152567, -3.57297780368645, -4.95159275346247, -1.910055720008, -3.57297780368645, -1.9584839181152, -3.85980369014249, -2.55012206191651, -4.26355862228935, -0.661508725238449, -3.57297780368645, -1.45640727768747, -4.95159275346247, 0.658075359447239, -4.95159275346247, -4.26355862228935, -3.57297780368645, 0.285233178195202, -2.46425572610276, -2.64405992074449, -4.95159275346247, -1.16773044583689, -2.64405992074449, 1.31776713186147, -1.51835421625552, -2.74774570870643, -1.51835421625552, -2.11966258526556, -2.55012206191651, -0.0607354836898151, -0.581476769814426, -0.703051798172265, -1.81356262524385, -1.23762564284707, -2.46425572610276, 0.545848385406104, -0.206935445467576, -2.17972929416229, -1.45640727768747, -0.689011472830919, -0.999476338867932, 0.269318592960969, -1.0186775184919, 2.75703540249097, -0.163611130691224, -0.376772502579018, -0.606837133839059, 0.537704412220319, -2.55012206191651, 3.57834089259093, -1.731198082625, 0.166422615608164, -0.825371688593113, -0.532607577803059, 1.18205601731843, 3.79213688288921, 1.41344057964001, -1.81356262524385, -0.594076560473089, 0.897748741042104, -0.00997747407868495, 1.55436319024868, 0.871741857734603, -1.26205351705275, 1.06955146236881, -1.16773044583689, -0.569033760516405, -0.689011472830919, 0.0592798458080164, -0.376772502579018, 0.464408088230409, 0.142429802890188, -1.31277577255996, -0.891422193820534, -0.761271566892886, -0.556743678768707, 1.43890392109862, -0.891422193820534, -2.24363589004942, -1.85743696973239, -2.74774570870643, -0.429134835254822, 2.24602237489292, 0.679591787844505, 1.5193101505469, -2.86343927118061, -3.85980369014249, -1.1024030572059, 4.40235696751028, -2.24363589004942, NA, -3.85980369014249, -4.95159275346247, -3.57297780368645, -0.761271566892886, -3.85980369014249, -0.269093075706006, -3.01446390455736, -4.95159275346247, -3.3503483160569, -1.42681583503013, -2.00937729712331), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 15.37
"r_obs" <- 7.84


}

######################################################################################################
######################################################################################################
