######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-09 11:05:43 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(521651846, 480878113)
"mu" <- structure(c(-4.95891092331907, -4.92988834645106, -5.12712685066276, -5.08783864373006, -4.87777403187461, -4.96615589693947, -6.0240943245378, -2.28341445661716, -5.59043992457728, -4.22259246225397, -4.87481770309565, -5.53897385748389, -5.33332995843887, -4.84523560720039, -4.30804975997762, -3.35982336461616, -6.53764127675582, -5.26640002655705, -3.41002974576991, -4.13715570144736, -5.96330376070409, -2.64515151383641, -4.89285213301899, -2.14296189120238, -3.4576401524314, -2.47733507103688, -3.33133352290583, -0.723475050067112, -3.8237178218929, -1.48434541400899, -4.12029007347847, -0.250314463226097, -3.85025156528342, -3.75708860670857, -3.82534172945775, 0.366325126203629, -2.74757561835564, -1.64341044283865, -5.51364332000286, -0.322537654785373, -2.63950374627216, 0.539701650916603, -1.82477392444058, -1.96265124529587, -2.2181674821097, -1.9469893597861, -1.48858265217509, 0.964868765662338, -0.938127056784655, -1.15060414691892, -2.05759902895427, -2.2921710307691, -2.28789101856817, 0.706683961247644, -0.332625326034839, -1.85969021219378, -0.412858463888461, 0.0471961118650849, -1.16706185922728, 0.440863769287554, -0.138031045396306, 2.3700842511563, -0.763578046600987, 0.432998391727145, -0.169830504034724, 1.34053101612184, -0.527653112421604, 3.12667180623226, -0.0518014483797615, 0.684069094495726, -0.427656546497394, 0.64413430707647, 0.386958035772181, 3.19242969076153, 0.900597650516741, -1.94703802635697, -0.022294155173144, -0.113718821434958, -0.878439547006526, 2.859430210397, -0.120363651051312, -0.874766960071596, 0.84904232286869, -2.11622969146682, -0.15867139513111, 1.03210021067969, 0.379663412121186, -1.1030136808135, 0.4620241482571, -1.1066040929567, 0.763010319189609, -1.32123591103176, -1.64379369805787, -1.07405347247928, 1.61366702258378, -0.365079710002774, -1.95912523288977, -2.14831362947028, -1.87658200175208, -0.397420287029018, 2.44366797539529, -0.243572670593899, 0.138290604071675, -2.30539107304019, -4.12853405671154, -0.630145613421835, 2.66726305527103, -1.31811673886768, 1.69361309399389, -3.36155728405697, -6.33026652032108, -4.41928372926807, -0.323141192561731, -3.29291972270665, 2.20729073441137, -3.54972307040998, -5.53710977561165, -4.12129569121829, -0.382917740703836, -0.738464799209913), .Dim = c(6, 20))
"tau_obs" <- 1.35420893049585
"tau_proc" <- 0.407159498600377
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(-1862262318, 678455313)
"mu" <- structure(c(-4.966234424406, -5.12357640957779, -5.06329858621744, -4.98893938271151, -5.02987737546991, -5.05612944272911, -5.52538400190262, -2.57243564214189, -5.35903131410075, -5.61480053010918, -5.29785879337753, -5.47296248903048, -5.32601145471042, -4.4706428998178, -5.65155862000766, -4.42919191075474, -4.65389509339154, -4.80196940414973, -2.90868196009452, -2.21167280591311, -5.56145148756204, -2.42463501104085, -3.8896158575448, -1.29897586588367, -4.25998824512997, -2.11202181225935, -5.2561314637912, -1.33351295970773, -3.09341242116179, -1.70523564567616, -5.53446653752323, -0.362429562775731, -4.27253327484934, -4.44821018638771, -3.64777453610219, -0.569973602433116, -3.62857952537903, -1.72024967357862, -4.0875286827735, -2.1918999281242, -3.872162193649, 1.80405295157264, -1.93583907069122, -2.69167530266449, -0.92468554798146, -3.44777482461928, -2.47362804384232, 0.448822565738459, -0.850669510694719, -1.11946259104727, -2.86518038871905, -1.35142399520262, -2.37286871390085, 0.370840964700874, -1.53124015536393, -2.10505032257186, -0.679165400403847, -1.15038989668091, -1.67543596543076, 0.614203786519335, -0.661799194276301, 1.90177273805331, -0.784685844082939, -0.280254803586354, -0.756582749895185, 2.01670559784642, -1.30491402470229, 2.71226459693667, -1.73012165091099, 0.728624999914364, -1.61298633372497, -0.169481134941721, 0.109449419869145, 2.65751841981559, 0.378083087551132, -0.111259528655246, -0.131033518360659, -0.446259410917807, -1.3171088304108, 1.75717975370866, 0.328788179704058, -0.362233493259372, 1.28313138385411, 0.229802674969533, 0.302430402143828, -0.725300365057814, 0.278137795943311, -0.68292310787003, 1.63155064167864, -0.425739407810161, -1.15305554734638, -1.78891533075244, -1.23461927904223, -1.29970691033496, 2.24809988723621, -0.447581575565369, -1.36560539413371, -2.48710105233128, -3.14441865207971, -0.482867865917863, 2.31192166313885, -0.518203072411577, 0.148260624222598, -2.29068076302247, -3.76714531160891, -1.3121537744719, 4.0540692307605, -1.98253197670337, 0.21630687004638, -3.85650226334357, -6.06091583864381, -2.73754029888771, -0.889119864579329, -3.31862805899522, 1.29582276073499, -3.1930756900302, -6.02486587665099, -3.90122978676336, -1.57589791460165, -3.54253480380305), .Dim = c(6, 20))
"tau_obs" <- 1.56072739759594
"tau_proc" <- 0.392387484279159
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(234, 1086161298, 2100852248, -765371596, 1261159564, -162468310, -1068799306, -558106679, 1443392602, -1035828425, 1368027153, 2033002478, -587778443, 129770906, 408298617, 1292108282, 579612254, 1748972343, -1308882431, 1650996837, 721850135, -754051589, -505911003, 1622203838, 725201697, 12238436, 134478000, -79921279, 1991502820, 1463707503, -184039658, -1574609679, -1874858105, 1690862428, -205891148, -1418253608, 599211073, -341812421, 691059874, 1855897960, -756492517, -346859539, -1641201587, 1276031980, 1836277874, -1514935410, -984170427, -1212337939, 629019927, 1001159554, -1728880569, 2090161105, -2001047141, 1832878694, 247202597, 1792777721, -963827654, 2134184754, -896765349, 899039490, 1098364332, 483608679, 1335389851, 72394072, 1668542663, 1660277661, -1280569701, 1136256553, 408120097, 1795435359, -1934981189, 1986590814, 1513356982, 1047155433, 1217668836, 1463444019, 776981730, -1386606291, 1182063575, 87124706, 1661883954, 1967816210, -1657867505, 262414653, -414386022, 742738470, -549547635, -604157676, -1066614221, 650934530, 1391764585, 1817027208, -1493888746, -200685575, 34106000, 828316387, 734514662, -1927824369, -260804125, -1362166361, 1866086101, 947470321, 1639724438, 1541727649, -1724807061, 669705629, 2112676207, -545983531, 130737969, 676279403, -980506527, -355942095, 2030060647, -1520791897, 1866186711, 1667582439, -1123685727, 294108194, -1624998849, 1383222451, 372042537, 1559131973, -1083336320, -1407873536, 455978175, 2100909689, 1515141415, -1294446241, -65622287, -278974961, -1364746392, 83977621, -2115774945, -1333469046, 1247194195, 1878034250, -16627249, 766832406, 1266510503, 612107226, 645106731, -876869551, 487988568, -2123042700, -1257365116, -759494629, 1208216454, -1884706914, -1483332277, 735861878, 543852073, 713238498, 1219746544, 839560928, 1387404098, 1024149276, -1593027041, 1842481909, -746707066, 2144731345, 1138687217, 833587959, -1013305256, 888334024, 148287809, -1076688481, -1675833478, -980396840, 2084923749, 1809517200, 878993159, -165180680, 1387138613, 2109370451, 1743257756, -267492513, 513672871, -1561668095, 1916996966, 483416924, -570898079, 198289280, -1415112646, -96292560, -1461666490, -1865317409, 435719229, -2142835359, -1201110637, -1888588560, 1978988446, 1860287997, -1844210254, -1327222147, 1436746283, 1139573143, -1352806927, 978933441, -150718610, 82356113, 481285315, 183831614, -590023692, 520162534, 500018593, -1461028202, -1720445240, 1008457281, 335417581, 1078194678, -1154456003, 2119194400, -201076567, -1626271060, 717238965, -1856042733, -564698706, -217208977, 1054207564, 1094276216, -283954623, -1965517, 897813119, -738653307, -180394981, -1474790803, 73599794, 1429868765, -531673758, -1188445944, 515839261, 473180237, 1948089582, 1026060103, -125196436, 993534580, -970259239, -1315541632, 404766233, 1624430569, 2125545904, -1108864705, 531117613, -1231063800, 1355598607, 970344019, -930533857, 1760031509, 952393386, 1803637290, -1898172257, -1592214654, 1072731632, 180648819, -297573577, -2100161169, -1284404776, 305330834, -1446954662, 1310741642, 1864426261, 1153302089, 1998465479, 1750949808, -1147518350, -1995320672, 1862481238, -822659442, -726801887, 1002642751, -537536979, -934722207, 718610850, 1608883805, 246406806, -2034470414, 1942730505, 932483202, 1563253258, 1363343474, -259786867, 804356481, 877393552, -1576512715, 586106082, -606091610, -2059534646, -1658791238, -127468737, 1992983337, 1150143277, -1325818325, -1171881945, -2042533673, 1465128142, 1115836918, 177890173, 1538025297, -788797652, -1582648597, 1413273831, -1890617695, 1555371871, 134770111, -1058701446, 1385576356, 889359517, 2123073141, 1199501408, 1281548179, -904359363, 317462402, 1717827221, 1089114279, 1836851175, 285967578, 933714898, 636865374, 142121185, 607223447, 102313273, 168016196, -1673807731, -794446640, 706046752, 834614245, 2096059234, -174907811, 1991401065, 424075256, 2010056514, -919481745, 1698901555, 607575344, 1539058151, 414665810, 776864827, 1726462755, -1653210136, -1088844201, 350483331, 1165109398, 1427631615, -2087726612, 1651476705, 1180308104, -1094485818, 661150278, 932333655, 1570602118, 2064596128, -1168202044, 1486754807, -591977720, 1637478137, 935628386, -1114644393, 1505355592, 1238986148, 1998113818, 2005313306, -314808975, 1187736594, 50283039, -1282640280, -572128316, 1440982835, -1053847051, -1789908925, 2032428881, 1593364122, 1513868188, -2063040950, 88302476, 1492928182, 1521457985, 1728474646, -1088687452, 750953242, 61330170, -1766212429, 1749274053, -1332228760, -755389051, 1240689672, 1138136352, 41215649, 1687106583, -812216176, 477480444, 1990140299, 314412551, -1353080192, -1708562429, -476796337, -596876865, -1846535866, -915612982, -1437072098, -695686738, -2098223900, 2030695563, 84600013, 1648087161, -201523094, 752368699, 331995601, -948700404, -2078320770, 1342867543, -676229553, 131230431, -892983499, 1556229614, -168886414, 198881302, -1186431666, 1662476573, 1446184646, -1401430916, -991350185, 1312904925, 367221695, -1936637562, -2091447479, -99654781, -1611806227, 1171587136, -1041152198, 316513284, -193950381, 1208533996, -1174050439, 199074438, 239545213, -956537829, 589571508, -1187501663, -1286714523, -1398617106, 1235844316, 433369501, -62036354, -983094378, -322695385, -2057640485, 1054956317, 1220351787, 579161245, -183302947, -1256343379, 1270796186, 482647975, -1884903338, 853625431, 1107149458, -2087976896, 764840580, -107063509, -509575997, -1891836883, 1301700515, -1410290250, 977371812, -2118566089, 1585821942, -129244927, -1067855163, 1500880794, 1223728995, 456326190, -553001265, 1269249415, -356564658, 1599515773, -2032149771, -1010044613, -1923969329, -836209910, -1854401064, -1509487466, -152230878, -120404100, 508690554, -747787128, 98439801, -1943030160, 202132336, -716248123, 776819109, -1486273656, -596735027, -1969783032, -1194387829, 1171935141, -1964199472, -2063239616, -566349756, 1263904064, -240041463, 1602743793, 2132619549, 1889552999, 2089717220, 211025084, 788111436, -718570313, -205114906, -2127495348, -735276570, 1112045161, 190321646, -837263875, -181071985, 913931470, 2023529466, -1350596849, -250534842, -86282906, 224366284, -1684690585, 1127597870, -363212464, 105695103, -1951075942, 511456561, 715600432, -514054076, -712395169, 63402302, 1214077001, -2061796840, -145710779, 1599948938, -2070216551, 415697954, 930305191, -542727079, -1510248487, -1421329790, -1341093292, -1502349236, -1738563433, 1884309897, 1758804491, -2130562425, 941849029, -1037307920, -1116428435, -1142022909, -258535218, 1905048973, 775380212, -1766706283, -1889228438, 1915129760, -1354044245, 963323567, 1483177640, 248532826, 1184178161, 1209198282, -1457085228, -1718876092, -257826377, 1842759548, 111144739, 1673667168, 574875474, 903267068, -1116868089, 1807122775, -252333824, 1820523677, -584506448, 411987454, -2124198004, 1950157988, -600039498, 637914754, 1894949822, -733545039, -104255813, 1939375296, 1218979874, -1772583416, 1116587379, -2111886852, 1157399888, 975753327, 74926170, 619331665, 2101985318, 1492312131, -617155755, 479750391, -620919811, 794603880, 2111279503, 1111679159, -758269630, -1384920475, 1029618585, -643974255, -2129100005, -238594017, -868676874, -405102940, 404258736, 10831766, 564771623, -1841436311, 79086799, 1717963451, 197880149, -2099240612, -1528696482, 827066229, -913599824, -1415798422, 959906039, -1422709920, -1625355092, -2089752938, -382592509)
"mu" <- structure(c(-4.95197950527102, -4.93858236402664, -4.91391941717338, -5.00779028824202, -4.79699531139578, -4.95926074937632, -4.53639759258224, -3.91398201156569, -4.55572127425643, -5.58040817527569, -5.36345476278561, -5.04157476261441, -3.91392391374998, -4.48354472397855, -4.78902799968417, -3.75027163087052, -5.91039825941615, -4.41968704143863, -4.38205708061025, -3.55278383291925, -4.79658364276211, -2.79633116409105, -3.88954634191899, -2.04315010862286, -4.5997959316452, -1.73593120884612, -3.980435404741, -2.49853493127186, -5.1209701593885, -2.31431420105383, -4.00380217921287, -2.2290632211993, -4.52073243058011, -3.27130246349876, -3.59576682716757, -0.286089196105972, -1.91583569349964, -2.44869361111683, -4.26394586477868, -2.63144221974714, -2.17393224868377, 1.51393348823462, -1.34854768753762, -3.05920509276567, -1.80220185845276, -1.71963634311175, -2.81527854528081, 1.87932029875492, -0.532928941983291, -1.69621602826713, -1.71485448003656, -1.52944535777576, -2.51916103134391, 1.30252386781293, -0.00914054171735945, -0.770392349619056, -0.952084512207062, -0.752687011213199, -1.44798626013746, -0.6779556824078, -1.23103283057573, 1.39684016080509, -1.37154239845273, 0.00641307085132992, -0.120067655279636, -0.339374928638846, -1.59271632777371, 2.57105002527171, -0.914253026730252, -0.686976784070198, -1.43337095060381, -0.758114504517272, 0.339134388751417, 1.86478270578246, 0.961890903839608, -1.02893511900396, -0.209535928397683, 1.36495720005984, -1.27295603548371, 1.19388511213037, -0.0453532609515507, -0.766240217668979, 0.946679771952037, 0.0136434135882372, -1.61266990564802, -0.699198712148135, -0.413658069455795, -1.30487134247897, 0.821353024335209, -0.417592015794957, -1.90507985359441, -2.09015898027851, -1.87878818194104, -1.83699437701434, 1.13126748577919, -0.992177830441496, -1.27989850606476, -2.71253349759613, -3.34644132511107, -1.65236260482456, 2.11235311193284, 0.112971456012003, -0.195552293253144, -3.50504476268446, -3.48059293572463, -2.87404924747285, 2.02092166520237, -1.38286461344268, 0.0817691932654371, -4.23364950496637, -5.41827245375687, -3.77062121186595, -0.40588245791352, -3.25424226326021, 1.01050789623738, -3.37297869763792, -6.57098965369569, -4.56200686045103, -1.59381201286606, -3.42959890231187), .Dim = c(6, 20))
"tau_obs" <- 1.24232537860818
"tau_proc" <- 0.75147826854374
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.03985637693803, -2.92620621090538, -5.62682143352007, -5.62682143352007, -5.62682143352007, -5.62682143352007, -4.54690127786412, -1.87993516013178, -4.54690127786412, -5.62682143352007, -5.62682143352007, -4.54690127786412, NA, -4.03985637693803, -5.62682143352007, -2.92620621090538, -5.62682143352007, -5.62682143352007, -3.25450300251135, -3.70500883604382, -5.62682143352007, -1.93378396925747, -3.70500883604382, -1.98340435348289, -4.03985637693803, -2.59561477177242, -4.54690127786412, -0.668259465052166, -3.70500883604382, -1.47141661453673, -5.62682143352007, 0.656275705784041, -5.62682143352007, -4.54690127786412, -3.70500883604382, 0.282619278109319, -2.50592601701208, -2.69414729593322, -5.62682143352007, -1.17895504135065, -2.69414729593322, 1.31683709610467, -1.5343304399473, -2.80346038590687, -1.5343304399473, -2.14900600506575, -2.59561477177242, -0.0644318601593888, -0.587706668101948, -0.710089901290257, -1.83508459396643, -1.24966776358807, -2.50592601701208, 0.543834777372936, -0.211214980448936, -2.21091790446822, -1.47141661453673, -0.69595110789268, -1.00895441673757, 0.266662705227706, -1.02834023568278, 2.75681496812374, -0.167708844426109, -0.38184624250953, -0.613227557384072, 0.535674321735381, -2.59561477177242, 3.57824393896632, -1.75100147675589, 0.163478468992475, -0.833329211159808, -0.538539462333506, 1.18099072793401, 3.79205859229696, 1.41259543553926, -1.83508459396643, -0.600385700478634, 0.896332892533209, -0.0134905901824991, 1.55362917560552, 0.870288677312358, -1.27439526862248, 1.06835924549709, -1.17895504135065, -0.57518638292638, -0.69595110789268, 0.0560021901152849, -0.38184624250953, 0.462223441926773, 0.139414055782678, -1.32576386137986, -0.899925377787891, -0.76873316751654, -0.562820918884371, 1.43808003426912, -0.899925377787891, -2.27691734624547, -1.87993516013178, -2.80346038590687, -0.434482057178657, 2.2456548884065, 0.677830476448052, 1.51854994024036, -2.92620621090538, -4.03985637693803, -1.11291407337897, 4.4023144383706, -2.27691734624547, NA, -4.03985637693803, -5.62682143352007, -3.70500883604382, -0.76873316751654, -4.03985637693803, -0.273647683487978, -3.0878475624618, -5.62682143352007, -3.45459815838927, -1.44138432743785, -2.03561606213981), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 15.37
"r_obs" <- 7.84


}

######################################################################################################
######################################################################################################
