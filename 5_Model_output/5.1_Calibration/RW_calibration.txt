######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-15 15:08:08 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(104, 1494955369, 1745365350, 986464407, 438705477, -675795323, -1819003726, 1057421425, -92482543, 1864046607, 1922984207, 2078337670, 1139065135, 1196075609, -1478606337, 1652070551, 647378672, -979378008, 1644178404, -1726353657, -2109878467, -668444950, 1469136012, 402280178, 1998030519, -774184285, -613511642, -309202852, 1900332609, -1624689977, -348623705, -7019103, 144282752, -1669859625, -1748784839, -937195105, -1503266610, -552941916, -1709727818, 530207097, 179117373, -164434547, -957443625, -1017427426, -1711477005, -240270821, -1038379589, -383538144, 1209079639, -819050968, 1476189490, -1217865884, 1142880134, 812706658, -1820797477, -539210169, 1408712283, 131093948, 222063264, 1102017565, -85293718, 1332728064, -1341519210, 616158366, 187930204, -1578248370, -1810280875, -2130958924, -1860063589, -1688881061, -981375458, -1776343537, -1985413820, -1297960288, -364029915, -466456122, 2056330546, -1250918113, -1905244812, 180556656, 1582724808, 1299701184, -910975479, 1286272623, -1574638051, -1148358212, 174963578, 199777324, -2054636050, 712090033, -2042389422, 1733944217, 2095200555, 1258362690, -732875376, 686744926, 2091510795, 973911790, 226541022, 469431330, -626455949, -1421664354, 407772547, -806950690, -1826655388, -1890558609, 1973891327, -417137086, 927329868, -129323810, -401215482, -1812082001, 911169448, 571348097, 2118225482, 1336172011, -403271445, 1813561076, -1328444901, -320317237, 1100001901, 315105105, -1691836167, 881338509, 183679756, 1841181227, 498947154, -396900299, 61580365, 1126056028, -82050227, 666399685, -580583027, 288794997, 394289134, 1558616475, 1237921089, -1134992586, -1452139900, 794988579, 759426201, -957128668, -96366030, -1666831195, 1923219785, -2037897060, -1324245286, 1905167135, 1009406489, -1751630656, 1049706335, -1952721804, -453793907, -628388215, 1882637590, -1745357234, -705300715, -930405500, 267534338, 1649220466, -1838239236, -1833832185, -1095618654, -1853064856, 1096990261, -1509851614, 133905503, 661215840, 2045974416, 962118061, -1237456441, 182690096, -2145718248, 1092395246, 929062034, -42735795, -2102522021, 700697796, -1271327846, 1490402988, -1617181415, 1143789176, -1273359024, -1751207746, 829783678, 1813276839, -797865626, -1981077204, 268547789, -567669309, -631820702, 188091925, -1794836994, 693486101, 1670657051, -1011885142, -1034269508, -1743642002, -53135, -342765184, 177924709, 1833760571, -645232845, 391870945, 728717298, -1294589097, -2002988618, -1822610797, 1242507027, -37531702, 689715464, -1269645843, 705371335, 117645594, 1492907740, -1926132817, -106651566, -1220709232, 115833814, -363111917, -1984539823, -486980762, -2140829677, 2013096204, 985634626, 545650546, 1088995794, -938763408, 2096483389, -709805555, -268346842, -1964374206, -987105358, -1299202431, -1404454261, 210855926, 509567480, 671794121, -1823422893, -36080602, 2034488399, 562026332, -2032613883, 614119517, -1068057660, 1789962993, -1247631932, -1041430131, -924338262, -45108084, -253980521, -306792728, 1717867884, 186108469, -522236716, -1560073045, -1129431754, -179762908, 767609741, -331133348, -189391482, -386164234, -1198753017, 660249649, 657911827, 72522420, 749125832, -78105466, -1541623888, 2078927104, -1554861094, 1094650243, 809236201, 1442960686, -1819235028, -1787620517, 662143550, -1436066587, -1599754499, 1527100926, -1200352815, 1553404074, -608442180, 1572526907, -492716668, -1060827484, -222269188, 941577752, -458856366, 1497757528, 316391240, -1259247620, -1317676068, 1239635627, -1064123482, -932084254, -444377792, -587080541, 546608530, -1969825606, 1475797161, 1058095457, 320833144, 2038231510, -2091668912, 819504270, 151239059, 525268602, 1533895942, 741555904, -1401086313, -82730382, -2033483527, 859778909, -2053882125, 200441393, -204778061, 737851799, -2038552131, -707495985, 1571036495, -1537273385, -646091567, -345483020, 1308978491, 1416767079, -269322078, -746802096, 2010434271, -367256866, 2098844635, 973262325, -410221819, -553846520, -1856520913, 1373344760, -356666635, -1680140723, 450483495, -1863532751, -438423319, 1747711770, 1565871224, -1750370874, -1450509609, 1932186817, -553841106, -1746071387, 1694063758, 1996727427, 1350389340, 1485956395, 1620935339, 1380379496, 174621242, -1694065613, 2018113616, -1512786123, 788546349, -914430146, -397722089, 896989150, 1074681297, -1567634708, 343851815, 1375951914, -1802518252, 1611662078, 468609745, -1257108289, 1972302302, -1509323113, 1764116363, 1178010117, -1611451968, 615003940, 432781988, -534004054, -840390318, 346924561, 254168760, -1886692222, 15621274, -1991031966, 57855110, 1633141029, 1462420883, 400539364, 1993620719, -1823133747, 2032926773, -143254579, 8818307, 1389788866, 432271264, 2113395708, -1352004271, -1168970435, -1095371238, -1065878338, 793096576, 351274411, -1450145576, 1675854063, -1359534804, 2115843554, -1067626832, 1049601495, -229909780, -1433948443, 999286262, 709607980, 898237151, 314596255, 1063485676, -1220086252, -828833966, -485745888, -646648029, 1095314829, 1037499415, 260105128, 1477307554, -1555570353, -288809965, -1418194638, 1185183975, -945872475, 175152037, -1958734395, -658586086, 448370476, -734041123, -1606641650, 2009829580, -1041173344, 1004776689, 680626289, 685607645, 469435896, -1901536618, 144901849, -998319983, -1929014405, -1094558550, -500801684, 1732927741, -750209717, -1631773108, 579368427, 445140319, -728044059, 367753753, 1438032392, 1430407758, 212462218, 378127772, 918688481, -816390772, 1012863536, -1511153336, -594249282, -156623908, -949590986, -733151522, -1485199103, 1944813167, 714668664, -1917444628, -999024712, 1092489867, -681894979, -218067928, -813658802, -1185633475, 66669842, 1261449477, 1408638494, -1083360055, -461978479, 1471805561, 235378901, -2077030745, 693438817, 1196128357, -1344143798, -1290627700, 278493237, -833727336, -724838568, 1269056627, -238300517, 687418027, -1463553851, -2138230773, -1609945256, 2069864793, -984701670, -2088567514, -1440518474, -773309482, 1806519795, -1291006195, -1948102194, -169392647, 1965450684, 1719011374, 392398980, 510047518, 85478984, 55552008, 667701481, -920048848, -1387459246, 1320124701, 100848567, -578150625, -198232558, 1114017906, -705179737, 700023128, 1698190110, -1360667112, -1334823901, 1713509568, -1236594206, 733929046, -1255713417, 1325636714, -176050322, 157322525, -1790329234, -843172984, -769025177, -1763155709, 215748641, 1162338131, -1401312795, 2084677187, -549735160, -1783554231, -35214510, -354963263, -2133100334, 389536718, -974024269, 1844743562, -1948845193, -1399274797, -50594607, -1046022662, -175851125, -1016882156, 1368663692, 1980440308, -979491361, -22570549, 1695987173, -1072189132, 2069547025, 526292313, 1730200234, 29644862, 2028963762, -2020648008, 36496237, 930719188, 195320366, -736337087, 541605244, 657175080, -1460915350, 441218976, -644441689, -353808593, -81869129, -116190115, -970358679, 1841506740, 2087552571, 1291013408, -289740269, 1373485409, 753723778, 1850834633, 848456751, 1934927496, -1133873967, 1924057490, -1891852027, -468762838, -1428834915, -77579258, 521188501, -34482073, -1461062972, 1886024253, -1950087472, -739006653, -1170980022, -1873742750, 495129988, 1673513261, 1619670973, -436828854, -1419220662, 1686632088, 1352362810, 446046701, 1931504916, 379521503, 1890783054, 934940370, -169497624, -1735145025, -511308693, -985235900, 847548690, 1567730170, 1771261972, -665416678, -343834118, 1151308376, 566574105, 265799510)
"mu" <- structure(c(-5.09889024775199, -5.05392370754974, -5.02615371460627, -5.0750642312851, -4.97781997166598, -4.97433669725721, -3.73918930724478, -2.34110991472534, -6.06930084818449, -4.31004353271478, -5.16430430289105, -5.02301187223788, -2.799767958478, -3.89712477642125, -5.33613110278582, -4.27167124968141, -4.85236383303423, -4.251652826711, -2.74921380890268, -3.08059068972892, -3.94768623227109, -2.13971387176691, -4.42309001791034, -1.57898926321773, -4.78558208796267, -0.583951567287371, -3.16655726768546, -2.09077579185565, -3.4510333623133, -0.426676479255822, -4.76995123567747, 0.0952157323623284, -4.21589396452007, -2.96609637942725, -3.44007712080885, -1.27146004327679, -3.52197672575634, -2.73369082108938, -4.37893635357922, -1.22605910880517, -3.69081729959895, 0.723579023147878, -2.41397457914819, -0.912967315314295, -2.05146269477078, -0.741161890772682, -4.35384483284674, 0.979391063848572, -1.60213109679292, 0.283111121877777, -2.61462107058443, -0.357223417310839, -3.61467545462816, -0.0284918055654082, -1.40992891789506, -0.000324150898056597, -1.50378548557102, -0.379215987826169, -1.85485478277699, -0.251417223160593, -0.296153933547273, 3.08622350586887, -1.67271983875914, 0.15105821212331, -0.55602704254055, 0.444909467990381, 0.151985746275638, 2.23862924640822, -1.23007214531793, -0.576798356444392, 0.837370278109119, -0.159190435166502, 0.481590662660731, 2.02943054076451, 0.670243703711425, -2.07835480783838, 0.926575781120214, 0.970271894951556, 0.218845355369175, 0.318502363267994, 0.684256225149203, -2.25225322851481, 1.96080124520716, -0.4962208535766, 0.734320416794631, -0.340681713135581, 1.25552283623269, 0.44640170730878, 1.40120005989484, 0.760049889696864, 0.378755153440222, -1.53889625128207, -0.682486183309894, -0.559551581863893, -0.187637683948937, 0.420577429832472, -1.45047131595048, -1.68805185169624, -1.36120583910213, -0.213176211072167, 1.63841651429928, -0.188734025488836, 0.957706354471385, -2.31481620511064, -3.11252746278787, -0.470744702546409, 2.88701304037932, -2.4055939836687, 0.106538665467567, -3.69994940665309, -4.27152760896858, -2.82682766699728, 0.953727223369183, -3.09577454708621, -0.643932752285339, -3.29326335377493, -4.53457922459199, -2.78837149360889, -0.196824479780177, -3.23349225249543), .Dim = c(6, 20))
"tau_obs" <- 1.27380846237934
"tau_proc" <- 0.715468295085673
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}

inits{
".RNG.state" <- c(24278, 5227, 29896)
"mu" <- structure(c(-5.09230525034458, -4.86318965054257, -5.12071207543056, -4.99108044129553, -5.07789180742467, -5.01500783685983, -4.52667449132105, -2.82986201301942, -3.93499149554861, -4.8427610126731, -4.48295090267047, -3.20746090268736, -4.52477872689703, -4.04910208991331, -4.00075142064895, -3.08775640897453, -4.17621511382198, -2.97189267992037, -4.71013550311872, -2.70933070723666, -3.62194902460561, -1.56480851571889, -3.61458127302595, -1.9890856583158, -4.66407416588945, -1.51708039121096, -4.53877784181212, -1.64218585074869, -3.70163493548857, -1.16955465048054, -4.21823493284385, -1.15178815192396, -4.91395207185364, -2.97416074821266, -3.32471948493546, -0.256981647716632, -2.77396085618165, -2.46437818458793, -3.83040434308492, -1.58917410706683, -2.92918941892886, 0.0590153467714662, -1.01266602225155, -2.1661511638061, -2.99420572378254, -1.64690687962495, -1.54944528862629, 0.699445918706368, -1.11268965112154, -0.606023560211854, -1.1721319421689, -0.392038994625649, -2.40088743497839, -0.989829758989212, -0.981722007544803, -0.620284225161711, -0.958902744317438, -0.247499796367443, -2.15469535052355, 0.226303601065414, -1.00932249336314, 2.94814649173542, 0.483475255715536, -2.40006592321395, -1.09390778379846, 1.32612776679508, -2.10110900430835, 1.99790883792685, -1.08565679714768, -1.65404150902884, -0.541962522846001, -0.377946520072602, -0.931712152710111, 3.29985853083648, 0.410906766450177, -1.34822384072686, -1.34137124989413, -0.422669368150833, -0.606544884904491, 1.663563027715, 1.02014945734181, -1.62187114827356, 0.537238198482749, -0.457797857399495, -0.409632728503609, -0.188291874583515, -0.341618835305166, -0.487416902526409, 0.540043126924009, -0.268298727835807, -0.453015713805552, -0.769546060756866, -1.24742076243317, -1.58374542384314, 1.8698156663848, -0.546217309607172, -0.238515339856077, -1.52603114108074, -2.74076698953613, -0.895885371657285, 0.95653248989651, 0.53276093127817, -0.129804416343051, -2.90560386432512, -3.34929928027818, -2.03164929316925, 2.81339307438954, -1.74762216098455, 0.572484191032246, -3.46886552752557, -4.04000034623003, -3.32902184368124, 0.0764647774268995, -2.37436103545389, -0.786713705421643, -3.49893828855155, -5.16027104368218, -3.84694299341594, -0.398757227384508, -1.9276146679351), .Dim = c(6, 20))
"tau_obs" <- 1.73815329418389
"tau_proc" <- 0.720646010907887
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Wichmann-Hill"
}

inits{
".RNG.state" <- c(1510841914, 915452313)
"mu" <- structure(c(-5.03012288132631, -4.6411589181272, -4.91573059101678, -5.06138601437626, -4.92643306657668, -5.09579880560704, -3.19073163494828, -2.9509843953106, -4.48096677119836, -4.9385203937568, -4.80044269698619, -4.13491681610468, -3.93209963363615, -3.39054220360643, -4.49982264229274, -2.74047676180206, -4.06254185365199, -5.18966853671085, -2.90462299025657, -3.39770086627515, -5.30108283791437, -1.38833334482848, -3.66465424382961, -2.44823070603845, -4.58642559041622, -2.04183690083203, -5.49234412404773, -0.486011482389714, -3.41590631415751, -1.26289795398661, -4.50231152058044, -0.484754129333729, -6.3205197547519, -2.66584997004369, -4.08295333846413, 0.220576385210265, -1.73406507474115, -2.60799489102338, -5.43944206480908, -0.63228009183197, -3.76223349458352, 1.51010826638537, -1.66492635028183, -2.07697430777912, -2.61324831544672, -1.13658221067367, -2.95212131333952, 0.456574110322228, -0.907569951466358, -1.41561382487172, -1.85477904725244, 0.0196429439317967, -1.7493479029121, -0.481020268414254, -0.571647174294757, -0.452676642266688, -2.10709588079556, -1.5879159124685, -0.972142039499981, -0.432686676001904, -0.334067670065064, 1.43961826042849, -0.660064328343735, -0.709602508880359, -0.330370867797399, 0.779180889539312, -0.379021551819004, 3.32178071864839, -1.37207498476453, -1.39774975211303, -0.412612557344486, -0.230610905920952, 0.9800811983172, 3.95624165219403, 0.95814510254858, -1.2099224606796, -0.875970634249526, 0.565226956043055, 0.677709290202528, 0.852631099135683, 0.576303721427528, -1.26236987566663, -0.488717122004651, -0.782172113747533, 0.203686264278468, 0.259438984184253, 0.246660969770085, -0.387627140002726, 0.433443082944074, -0.402584526924572, -1.89210700057201, -1.08563132875529, -1.42519088379881, -1.00966035105676, 0.988809377034841, -0.160461179788263, -1.24371783091777, -1.8337618962722, -1.82860295978308, -0.682614822369594, 4.01254365139252, 0.105232842778915, -0.139628416423708, -2.24001495175044, -3.84109553174174, -0.768380158851932, 4.42735838389182, -2.17412755559861, -1.27413883026021, -4.16766423696949, -4.75306634202626, -2.78924562857107, 0.0295886804945432, -3.84532138982635, -0.72386758345333, -3.88244917758768, -4.04178149157628, -3.82661369117189, -1.15803492577441, -2.29930445442545), .Dim = c(6, 20))
"tau_obs" <- 2.06299716822922
"tau_proc" <- 0.661642228619138
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-3.85980369014249, -2.86343927118061, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.26355862228935, -1.85743696973239, -4.26355862228935, -4.95159275346247, -4.95159275346247, -4.26355862228935, NA, -3.85980369014249, -4.95159275346247, -2.86343927118061, -4.95159275346247, -4.95159275346247, -3.1683696152567, -3.57297780368645, -4.95159275346247, -1.910055720008, -3.57297780368645, -1.9584839181152, -3.85980369014249, -2.55012206191651, -4.26355862228935, -0.661508725238449, -3.57297780368645, -1.45640727768747, -4.95159275346247, 0.658075359447239, -4.95159275346247, -4.26355862228935, -3.57297780368645, 0.285233178195202, -2.46425572610276, -2.64405992074449, -4.95159275346247, -1.16773044583689, -2.64405992074449, 1.31776713186147, -1.51835421625552, -2.74774570870643, -1.51835421625552, -2.11966258526556, -2.55012206191651, -0.0607354836898151, -0.581476769814426, -0.703051798172265, -1.81356262524385, -1.23762564284707, -2.46425572610276, 0.545848385406104, -0.206935445467576, -2.17972929416229, -1.45640727768747, -0.689011472830919, -0.999476338867932, 0.269318592960969, -1.0186775184919, 2.75703540249097, -0.163611130691224, -0.376772502579018, -0.606837133839059, 0.537704412220319, -2.55012206191651, 3.57834089259093, -1.731198082625, 0.166422615608164, -0.825371688593113, -0.532607577803059, 1.18205601731843, 3.79213688288921, 1.41344057964001, -1.81356262524385, -0.594076560473089, 0.897748741042104, -0.00997747407868495, 1.55436319024868, 0.871741857734603, -1.26205351705275, 1.06955146236881, -1.16773044583689, -0.569033760516405, -0.689011472830919, 0.0592798458080164, -0.376772502579018, 0.464408088230409, 0.142429802890188, -1.31277577255996, -0.891422193820534, -0.761271566892886, -0.556743678768707, 1.43890392109862, -0.891422193820534, -2.24363589004942, -1.85743696973239, -2.74774570870643, -0.429134835254822, 2.24602237489292, 0.679591787844505, 1.5193101505469, -2.86343927118061, -3.85980369014249, -1.1024030572059, 4.40235696751028, -2.24363589004942, NA, -3.85980369014249, -4.95159275346247, -3.57297780368645, -0.761271566892886, -3.85980369014249, -0.269093075706006, -3.01446390455736, -4.95159275346247, -3.3503483160569, -1.42681583503013, -2.00937729712331), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
