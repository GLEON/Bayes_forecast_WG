######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-10 11:01:47 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(117862297, 713947843)
"mu" <- structure(c(-4.96916476638681, -4.98207722186356, -5.2447075112652, -4.89001082930836, -4.97123733928193, -4.98673841290252, -4.5961191791167, -3.39228410748679, -4.55761505848818, -3.95802964365378, -6.18180877079125, -4.9847006358793, -2.89202524156757, -4.04603654808314, -6.08783188312368, -2.06943077464748, -6.49495926311081, -5.16904331876331, -3.43765460442164, -2.36142513382033, -4.81316481815361, -2.70277570660212, -4.37504079938531, -3.03536114212699, -3.40071254000421, -2.12087988090967, -3.91384890237598, -1.43475924155033, -3.12582559160095, -2.62196012136982, -3.95457628774056, -1.53463314527968, -4.15570497031984, -3.48986112072454, -3.67602278558824, -1.58626506437399, -3.80058653617488, -3.33479465647542, -4.27732016061257, -2.90951307774048, -2.34725177159424, -0.352212136473172, -1.41117706244662, -2.78955699585527, -2.27089931926156, -1.47609932386453, -3.12581668779909, 0.726859962806, -0.637004246482476, -1.91286916304889, -0.936056991677392, -0.973127461857838, -3.1266276175073, 0.854505470116874, -0.705596159711252, -1.12905327137737, -0.381433998248521, -1.34702236506157, -1.82485511821825, -0.0180544697013317, -1.0119109893335, 0.480773534279973, 0.833119924053125, -0.516747834520343, -0.103912486906911, 0.315106207907894, -2.74190466922362, 1.99393826433163, 0.423524566642763, 0.293166805435924, -1.01218127054236, 0.848239168046384, 0.100394834226261, 2.63337345292354, 0.247685469511777, -1.15924736852005, -1.57970955941271, 0.680318878030198, 0.140343890998651, 2.28027198491458, 0.669306751445742, -1.42274478885875, 1.06217018750407, -0.734408884582142, -0.857256465967994, -0.909609295984268, 0.232943299618232, -0.200533206787422, 1.38788038255028, -1.45558964362238, -0.590313753211016, -0.279028657417127, -0.492415313623504, -0.264025762004306, 1.39712346857695, -0.94276139682516, -1.52852245760371, -0.656277639915278, -2.57953282888663, 0.966315803158419, 2.3375358814336, -1.10763665245931, 0.0948901151116213, -2.34257475171763, -4.30539247612505, 0.151631146508254, 1.66113123635049, -2.86554851942842, -0.675430361310804, -1.97621667341593, -5.15720588475836, -3.59180059840609, -0.766884296679974, -3.36044092838517, -0.198158868938318, -3.81959168521226, -5.80559266756626, -3.27507015769449, -1.5491013820632, -2.90483035343569), .Dim = c(6, 20))
"tau_obs" <- 0.853797116791312
"tau_proc" <- 0.660169695004097
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(281224962, -349919387)
"mu" <- structure(c(-4.91514070142236, -4.77958337235261, -4.97223121985164, -5.09178726260577, -5.01897252310828, -4.99345992107269, -4.03689530991162, -3.26992575852217, -4.25187128342666, -3.59044993828428, -5.78376468152914, -3.47839875463149, -4.00472066171946, -2.64785555456875, -5.34591596274999, -3.44552175400973, -5.89296419375803, -4.40609865273793, -3.4484666177327, -3.13617956121548, -6.78929185393049, -1.32356062739481, -4.26839837192906, -2.9721577478762, -4.35614427536543, -3.72088888580516, -5.04067273981323, -1.15439901902613, -4.32371168329704, -1.16430467784168, -4.49724096658609, -0.821999674943616, -4.83615844505625, -1.84500241743483, -4.53503357536906, -0.108590577089346, -2.26430698624112, -2.15780631762578, -4.34378113205496, -1.70870121416787, -3.81742943580994, 1.41788553830818, -1.66756078890903, -3.16757986495693, -3.74045730703272, -0.965182396477253, -3.74151765089038, 0.098902059973119, -1.13629164472653, -0.977130828428901, -1.9301175316583, -0.961069470041541, -3.91691871114389, 0.345334700011447, -0.215793866058811, -0.914165544346576, -2.86925489017298, -1.11272758850849, -2.01853698918608, 1.05633231571247, 0.361845330280866, 0.660180464508097, -1.15610842612866, -1.05326592153853, -1.10442848067664, 1.5353650978069, -1.72352353743552, 2.49656172597851, -1.16364231910801, -0.0658444743074642, -0.586614916395267, 0.319730791429918, -0.0579021373462029, 2.6226445867634, 0.295728415633618, -0.855029606309639, 0.111154703263258, 1.14573778624957, 0.82636612000543, 1.70307815404817, 0.592333981669344, -2.06723197885126, 1.80632481676671, 0.527509745652396, -0.248920435070422, 0.662114967190994, -0.333139724042405, -1.67606385408384, 1.73146397959713, 0.440051117132101, 0.209597134729273, -0.349747829910912, -1.30235405145325, -0.492924807428246, 2.51498866182897, -0.465737964591602, -1.30309542534963, -1.51510053544627, -2.09487604538174, -1.37447370711231, 3.01694872843694, -0.170038662636149, 0.789372837892348, -4.52794498990189, -5.1910987396205, -2.37334252263044, 3.03267332768415, -0.579846863029806, 1.27029019768966, -4.49944458466492, -7.1583967127408, -2.59347343344537, 0.949486296754832, -2.36286754535685, 0.810493815694983, -3.61653075236721, -6.63856664887314, -2.85984420861094, 0.211084153134725, -3.1497063064318), .Dim = c(6, 20))
"tau_obs" <- 1.06899705702511
"tau_proc" <- 0.833481057082087
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(105, 779501553, 1370344565, 58767600, -1102224118, 401542249, -1886571819, 2143047222, 2040133935, 941900168, 980794334, -1260943887, -613312632, -143676716, -720855771, 831284364, -728801025, 803144435, 58085889, -75017845, 1876366475, -1997075040, 860779569, -1610691999, 786228857, 912209171, -1739633572, -1342419691, -1429067282, -1972237599, -801773197, -760890180, -1381365024, 1293311053, -1960195765, -1938812538, -72134386, 1212992406, 1158618414, -711812173, -88437183, 325932340, -594913864, 1682308089, 1123023978, -1027681631, -1187365251, 1773623075, -1461050687, -826072599, 940352409, -616598558, 825356709, 216616553, 72139988, -1258929595, -1607761003, -1540373113, 872333398, 1086433816, 937250361, -1163537791, 957951546, -1135811644, -1654982122, -926268505, -239879761, 1386288973, -659328308, -2043604389, -158119380, -993806705, 1048478220, 1774150866, 587109520, 2138366955, 298475365, -1003149407, -489987245, 182674700, -1662049535, -880416695, 178658224, -1008798583, -1122268015, 311759870, 437411051, -1056783386, 1838733228, 1026435754, -19083228, 1374788480, -88941561, -443050484, -1745478827, -966790859, 1736896569, -1795992289, -94308071, 701464047, 2035748, 1085953129, 101606224, 927802135, -102208415, -697696498, -1393604278, 1464569063, -1144564700, 1715689356, -1309086551, -1749141507, 231595195, -375728977, -830175745, 2063564462, 608256568, 1082913036, 138078809, -1776271011, -1142056436, -1804493073, -1386189742, -1016479415, -1051132778, 1234658190, 1265761118, -1702124053, -845258613, 1320027706, 1163818005, -470882207, 772845273, 71001393, -533979471, -1479498054, -1275443865, -771878981, 1445582945, -1451305981, 302956346, 779381540, 1051803659, 1099032977, 691462024, -542814272, 1971564518, -68712957, -68421932, 2046718971, 829209036, 745474154, 1335293678, -1860838127, 465568836, 540056368, 1224030838, -912983828, 818310488, -1307509231, 1706045252, -931928346, 2133186339, -318423155, 1556375789, -1446659854, -822742485, 2091716405, -227184129, 271745410, 1018452455, -2431303, -29032875, -447109922, -55755335, 1870486317, -1106498828, -1314971559, -1550458096, 248160553, -1503363965, -1826483190, -1319800716, -1712418925, -290645527, -1589561978, 1835182244, -291479106, -298903133, 1883094917, 923669881, -1046938259, 386114747, 996295658, 360960886, -1411024660, 1502724335, 400613517, 1251285550, 1164854335, 441749525, -934385691, 1066671353, 531349916, -847992198, -714151658, 1627349395, 1972987871, 1446257378, 590581066, 245237729, 1648442243, 1143495516, -1885309259, 595480556, 2035100072, -1096494824, -1768379398, -830222602, 2056096001, -1870816274, -1203412397, 240871821, -870677296, -805133498, -2103090110, -374144021, -1083399266, -1193239886, 2000601400, 639908690, 757891798, -1382484107, -482770266, -398416367, -1184563805, 721002887, 1077652775, 1934036263, -591866423, 1561559926, 1822553613, -258773504, 1995191981, -1928057651, -2110493958, 859366941, 1820853733, 406665775, -798338809, -2106089632, -255789945, 793489332, 1153603345, 2004295616, -99229286, 633183133, -1487775402, 708392286, 1387225998, -728000154, -1964031325, 625421852, 841019566, -423106053, 1751155640, 494011592, -1303096753, 806447027, 1926956673, -682719812, -1592931003, 1599694832, 774644046, 1209592298, -1844007645, 1683099257, -13181639, 199238897, 1096580351, 1581086056, 1944224645, 510503781, 1315856434, -1808234996, 2075751009, -1397835828, -2091590032, 1614980453, 580166361, 1347400208, -1848615535, 1312090024, 215609559, -173524060, -1493120698, -1340917484, -1749966590, 1755293978, 1726877071, -313668383, 1111238922, 1781204290, -1768052894, -2131633234, -121740407, -305758462, -838397624, 1939346131, 516183787, 887649672, -901024035, 2016975955, -2010787835, 390018025, -850030458, 2102842375, -1923539146, -63733039, 1246265854, -896402515, 1100731617, -1887180105, 167327260, -1127029285, 749380638, -1470422099, 855294995, 1550380260, 1196726768, 1894178933, 1676301835, -1592323286, -1265169671, -1031609950, 1900460796, -1991716188, -822062713, 2116524241, 882872599, 384053355, 2098857090, -4084412, 1285469247, 2017020071, 2106442382, -448736020, -455655963, -1126534881, -2101570462, 513092986, 1637566674, 922225972, -389204427, 2074278825, -1774418317, -788978110, 1564440921, -1789360068, 2082734628, -1791076341, -972802843, -881357957, -1340461817, 21873289, -1230124261, 1995520683, -130149262, -2094599538, -1580191028, -1575374278, -792124632, 1467112459, -1464357634, 1400054833, -648859529, 411357715, -1821878398, -1107578743, 656972465, 1472735497, 720874352, -1420735811, 1527505989, -1257552441, -953808441, -1301859337, -879093999, -637004336, 1778293321, -1664161353, 322543295, -156908460, -861542049, 1717579191, 946813196, 1947569721, -385536584, -804596793, -115510239, 1390175472, 1144438112, 1875828812, 684398743, -251777940, 1218190179, -757973286, 1045749392, -1261689645, -2010990078, 26211069, 535412005, -970535986, 293124200, 1390136247, 232508566, 1245518537, 2035213272, -1663866247, 767301547, -916084751, 967442396, 224790001, -1882563826, 855346135, 1293621732, -982430185, -2056618248, 2062539669, -1006860098, -28623732, 1457190438, -1004855482, 559130636, -190208471, 1151895316, -713205668, 303505060, -1482332835, -1802378851, 1557155038, 1372538785, -136299140, -1963279431, 1271984239, 807796593, 981998493, 1050400151, -1984424467, 1811361433, -1670693973, 2128891450, -433139598, -2048523045, 16514997, -1260353479, 1460568356, 1142087014, -1238287677, -456386515, -2085553713, 2119131784, 213348645, 200420344, -682223305, 53499099, 182982114, 802069530, 1196402732, 1168693071, 340327073, 1070847352, 1349679932, -1450682159, -338365875, -1871747805, -100844995, 259945090, 62024761, 615801241, 978154729, -45424448, -438181778, -726323017, 1192665702, 1657171882, 1409508356, -43627389, 999030214, -863237419, 91292220, 877170597, -1858769023, -622770224, -1744476434, 1355682853, 239319675, 1689470947, -1766510821, -395165705, 1099040271, 1636896408, -1684267431, 2124728184, -372197982, 1113366731, -15936279, 1640186442, -116421566, 514339575, 504686934, -723090184, -2008417935, -1377711386, -28803216, -1332633291, 387164497, 225742593, 1050546762, -1788440132, 1038959202, 2011092660, -1843029637, -1312851251, 1186193079, -1542553713, 472166760, -1365736103, -440551392, 464645455, -143702876, 1787494345, 94887732, 987359909, -675427174, -1734566777, 2141043342, -1819928073, -1681722214, 247849666, 590477295, -872070248, 1155894949, 1529411103, 1285642455, 764505506, -1459486714, -975758015, -1564057686, -797720756, 229381407, 1675993688, 487335481, -393642662, -808692057, 1653720170, 1190847826, -360534974, -1729235803, -691696727, -706256610, 1144746958, 453054993, 1493592897, -2132591428, 960802827, -547825413, 1676740582, 617192007, -199072580, -429433256, -576936098, 2047118303, -738498212, 1284966145, -1614070609, 1048629589, 867816838, -970356764, -69183999, -943127012, -2095209902, 558752043, 22315006, 19104285, 369226461, 923322144, 953598915, -1038730031, 1050316110, 1109533165, 904547097, -1225232313, 1808360374, 874819619, -1686488098, 1795374321, 1208297758, 566247624, -1805365377, -209744639, 1294408521, -637432982, -2055056497, -2094347735, 2122118101, 38590076, -1837874494, -898475860, -1818747840, 1744695165, -1202531733, 244710723, 560437472, 1799769238, -54593345, -957793549, -1658030239, 83177904, 132049877, 1091324488, 715734156, 97904804, -1078656941, 1731625631)
"mu" <- structure(c(-4.91963291791506, -4.8649067278918, -5.03077955217175, -4.98698115593419, -5.13375694089446, -5.01561142583184, -4.74723839835424, -3.5152002449511, -4.77885714627087, -4.46020329412047, -5.68374287198917, -5.12936747151688, -3.23502766189502, -4.3561149801247, -6.17155111366774, -3.6589615744925, -5.3154424509407, -4.99054687798044, -3.69420155121642, -4.83588242707117, -5.79187472057831, -2.8645276108175, -3.99354433713387, -3.31388171206959, -4.70327813777866, -2.3684061278232, -5.42667736784646, -1.81152117455195, -4.64195170800001, -1.0047783651783, -4.77805020441182, 0.38226146723178, -5.40177184443093, -2.96581474187151, -3.50641363748148, 0.0240208534383465, -3.19420676934225, -1.79912207389863, -3.77945940958555, -1.8851862919335, -2.43832739102278, 1.35603454660237, -1.40515743992773, -2.43770262650542, -2.20063365507743, -2.34363065291369, -2.04165713938297, 1.42940342165889, -1.95671336438372, -2.2769288858224, -2.17501729649424, -1.21357460690458, -2.57617165858693, 0.576262358751933, -0.427210248287646, -1.20722684309695, -1.99286399689842, -0.98048006118104, -1.78142598089212, -0.806592263743244, -1.60932347878154, 1.95678366216179, -0.684446225323782, 0.0490634866841918, -0.424302227875246, -0.975825240017549, -1.92480696561677, 2.93756048176097, -2.52661696056666, -1.19039886324427, -0.0948677065103244, -0.126608089913445, -0.045590158480201, 2.77325999935148, 0.352736301233468, -0.912490846403635, 0.313510019318578, 0.743744744737947, 0.381380092687242, 0.504025082607361, 0.897628785693669, -1.04385687010773, 0.288367786937365, -0.772712248713758, -0.633788536303792, -0.833542919653793, 0.100642453048012, -0.598519267472719, 0.426911924195528, -0.310788012869682, -0.526831978779269, 0.326192106947, -1.55409462384034, -0.663866525747396, 2.34924742325695, -0.11330764756369, -0.537626214570135, -1.60601403585106, -2.13536738234921, -1.49648155174697, 2.85962805040286, -0.361269632717382, 0.704980812838444, -2.82140874531267, -3.78128265109975, -1.87030504596206, 3.10966389245746, -2.18149558070598, 0.118147222383078, -3.24768283027359, -5.72283696951125, -3.04840535887339, 0.475106088042703, -3.05096509436052, 0.254620841839277, -2.11418256875371, -5.28070484357896, -3.35669761804394, -2.05032973939907, -2.8566708031402), .Dim = c(6, 20))
"tau_obs" <- 1.65024826791404
"tau_proc" <- 0.682145100043841
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.04555439805267, -2.92807362508018, -5.65499231048677, -5.65499231048677, -5.65499231048677, -5.65499231048677, -4.55638002181866, -1.88059068293467, -4.55638002181866, -5.65499231048677, -5.65499231048677, -4.55638002181866, NA, -4.04555439805267, -5.65499231048677, -2.92807362508018, -5.65499231048677, -5.65499231048677, -3.2570970376884, -3.70908216143146, -5.65499231048677, -1.93447577142965, -3.70908216143146, -1.98413136187551, -4.04555439805267, -2.59695615359662, -4.55638002181866, -0.668454567969574, -3.70908216143146, -1.47185224948154, -5.65499231048677, 0.656223826455347, -5.65499231048677, -4.55638002181866, -3.70908216143146, 0.282543894595657, -2.50715225873532, -2.69562768110365, -5.65499231048677, -1.17928019173556, -2.69562768110365, 1.31681029758931, -1.53479436943833, -2.80511191394534, -1.53479436943833, -2.14986400597638, -2.59695615359662, -0.0645385211375712, -0.587886669902452, -0.710293339394916, -1.83571135675724, -1.25001674282734, -2.50715225873532, 0.543776723905677, -0.211338505864447, -2.21183072972558, -1.47185224948154, -0.696151689580244, -1.00922872753342, 0.266586109157047, -1.02861991684807, 2.75680861873598, -0.167827110643502, -0.381992751923022, -0.613412212541092, 0.53561579257321, -2.59695615359662, 3.57824114649315, -1.75157767959522, 0.163393546908436, -0.83355933427669, -0.538710827255527, 1.18096003001686, 3.79205633738096, 1.41257108419811, -1.83571135675724, -0.600567999266852, 0.896292085367465, -0.0135919535194671, 1.55360802747343, 0.870246793372748, -1.27475298638698, 1.06832488772965, -1.17928019173556, -0.575364144903562, -0.696151689580244, 0.0559076319382961, -0.381992751923022, 0.46216045178471, 0.139327065221099, -1.32614043830014, -0.900171349994272, -0.768948893976227, -0.5629964960949, 1.43805629567848, -0.900171349994272, -2.27789248040367, -1.88059068293467, -2.80511191394534, -0.434636485408444, 2.24564430253124, 0.677779703428824, 1.51852803707426, -2.92807362508018, -4.04555439805267, -1.11321844105747, 4.40231321347409, -2.27789248040367, NA, -4.04555439805267, -5.65499231048677, -3.70908216143146, -0.768948893976227, -4.04555439805267, -0.27377916728279, -3.09004295302523, -5.65499231048677, -3.45776773315055, -1.44180707105015, -2.03638205221939), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
