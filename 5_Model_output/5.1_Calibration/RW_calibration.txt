######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-03-27 16:09:00 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(742765844, 1130345051)
"mu" <- structure(c(-5.00885614990728, -4.97903011349774, -5.01896256037063, -5.01363644776198, -4.88287234941027, -5.10932488050265, -5.64381017014141, -2.99925146194708, -4.74623432213031, -5.33063009235593, -4.53059308105775, -4.30655508901592, -4.40501948565189, -3.16421636246258, -5.22182174228527, -3.841797556746, -4.63046679895255, -2.54123253627297, -4.28420607774007, -2.23294373294762, -4.51411227385435, -2.52081517416454, -3.2150612897779, -1.83283622435302, -4.50531351870149, -2.15534418863507, -3.94735954227614, -2.31400369029553, -3.8010133889482, -1.30848063894316, -4.59882909498654, -1.4041182208363, -4.54288039919158, -2.90502348904648, -4.1374075857521, -0.628939615298061, -3.82479281767363, -1.74720329256663, -3.50928308882943, -2.14460633427425, -2.97244726674314, 1.61423214900282, -1.47603051541976, -1.4714544800177, -1.54377467322503, -0.955225717443695, -2.44853244410829, 1.24296010710828, -2.07174026906958, -0.547918457655596, -1.51346863199243, -0.493737804698944, -2.46737773884824, 1.27146751962482, -1.13751441489099, 0.737267610325882, -0.672371033860974, -0.934560733896937, -2.14770402976568, -0.144795044732412, -1.7465260386774, 1.44130604191918, 0.136969698020519, -0.535173004464347, -0.665744251831953, 0.70304455920136, -1.5698681652887, 2.1199314543612, -0.758224567000346, 0.18033399192908, -0.52313144187571, -0.428896228401372, 0.641137029675152, 2.50720251669712, -0.0574519829336823, 0.090340796939903, 0.558781047256624, -0.372855161104427, -0.537575881860808, 1.77211506502983, 0.546576776216866, -0.997581820693002, 0.197675437083732, -0.693354027936986, -1.66499108070925, -0.161164831368028, -1.5563359954412, -0.550278450706084, 0.593683747766194, -1.99342895790306, -2.08580643711061, -0.871954647110566, -1.85370264567213, -0.343819835841478, 0.676241304009352, 0.236042224231265, -1.24537913228614, -2.91035783123604, -3.56003791435211, -1.30676327067289, 1.22864469678874, 0.218104616955348, 0.427104677626461, -3.15566440861727, -4.37122744411345, -2.10338337112208, 1.45052183974622, -1.28447302251147, 0.504370661560881, -3.65181729448008, -4.65291170458355, -2.92204445021598, 0.360458933929319, -3.68044725143477, 1.29128203129209, -3.31940958678245, -4.4001488081299, -2.03725132362816, 0.0535858167153626, -4.01923476252903), .Dim = c(6, 20))
"tau_obs" <- 0.892648306438513
"tau_proc" <- 1.16325725948221
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(-662129764, -1115007893)
"mu" <- structure(c(-5.00741186555268, -4.86085523293344, -4.98054731388738, -4.9849554895068, -4.68165067746643, -5.05798871254835, -3.75168311109467, -2.69245672698257, -4.34596695420776, -5.60195722319818, -5.63271454676466, -3.21649325116354, -3.86927670205466, -3.29720003712561, -5.79333425701989, -3.93982366372035, -5.12442534950201, -3.63823879135686, -3.87954124879313, -3.86694649929667, -5.1586641518545, -1.69767268442703, -3.47237372746563, -2.79178266321117, -4.12495940301724, -2.489310482524, -4.66288938546279, -1.66039730002105, -3.00670767254778, -1.92455510526344, -5.07173530155149, -1.85209838690627, -5.94798334331484, -2.54459133172926, -3.50293108479244, -0.390331062767978, -3.56944336294842, -2.72353297320598, -5.25405901064426, -2.63041792967157, -1.20849717061544, 1.19373815958558, -2.15163572028999, -2.66569025287507, -2.92823734935808, -1.98307791961904, -2.15640217856579, 0.628042862795542, -0.0897555912384733, -1.24803783592238, -1.64767732393225, -1.54239807421854, -2.74653572653703, -0.785348709208508, 0.130255380747594, -0.0254235545806604, -2.53238550890967, -2.2627773184162, -1.07487791993682, 0.463761306001914, -0.446661222175684, 2.49999779767232, -0.769524398113999, -0.342298498292292, 0.42567248788678, 0.338305845539866, -1.12120945980623, 1.95797911835588, -2.35990276982686, -1.31095688137765, -1.38812414836136, -0.532582070349743, -0.502962102769106, 1.54735114349688, -1.23061690740033, -0.765771789300669, -0.294988146723994, 0.320865754617031, -1.88368848642103, 0.821180581157779, -0.922299544668561, -1.81039215264424, 0.374985810015683, -1.02840814099918, -1.29019107144592, -0.277091314191151, 0.749878544177377, -2.01605525131643, 0.424963939183435, -0.932240276265328, -1.24582180503259, -2.1970293186511, -0.915428591556826, -0.563773667250693, 2.41215641116332, -0.229918954817064, -1.29247778171202, -3.0286203137687, -3.01319601204267, -0.755391253596824, 1.5781086247691, -0.243019571931189, 0.508089656231486, -3.26456434583212, -4.59691690454649, -1.01924900085956, 1.87269971248132, -1.75097445022042, -0.806236481490439, -3.66115537690874, -4.63599047512818, -1.62911596936275, 1.27213472264643, -2.91934330045821, -0.510180586000035, -3.69930455377117, -5.75322053091512, -0.89447223335937, 0.109291453058183, -3.29853262733037), .Dim = c(6, 20))
"tau_obs" <- 1.02293046930095
"tau_proc" <- 0.794401119875316
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(593, -50752763, -1268976815, 1769845541, -1919183325, -1917674399, -383939660, 1512942615, 1558512433, -313898056, -1730766867, 534864889, 1749439383, 1977376974, -824675188, 1193743214, -2042139183, 246485832, -200271469, -1271966770, -1969808151, 131727574, 1934698381, -1757164083, 981875125, -792374485, 770180884, -1042705375, 1988550863, -424503123, 1797436315, -765551246, -804167945, -1065171222, -976050531, -1795206678, 570350222, -2013871923, 2143796856, -1996255248, 1321130695, 874054593, 1655716912, 1901482887, 1290969717, -1474670009, -909608428, -2107768539, 2012189193, -513842400, 268306012, -1654404230, -210749349, -450106373, 1731858820, -1841508716, -477565533, -1859371470, -1496761681, -1409737971, -722614970, 1814402171, -1880090281, -1616553501, -774310909, -1084842433, 1529582029, -1023175855, 1060798272, 422011015, 129927963, 1089969717, -1354628938, -785626827, -1400278939, -786332770, 314972868, 673985, 1768900847, -498558262, 199948785, -1011482735, -274929889, -1438360036, -390932954, -925357780, 335553553, 2027243441, 696081160, -1732019342, -658630177, 2099022143, 1341397173, -1709849636, -2004338593, -411320148, -1547439123, -2061156124, 1866371900, -1435687919, -2128810333, -1351091859, -1610434521, 1191833660, 1691677854, 190156908, 1651029148, -2070712573, 858424308, -144930980, 1998992228, -93250951, -1696171576, 523793759, 1550887844, -751817863, -867713569, -2028364695, -1625125215, 185717279, -1862768648, -1544332809, -749370540, -1701332643, 2073099322, 1701520595, -1577035328, 2047660102, -1784734655, 1040483400, 61646337, -352154249, -1720680837, -1828740895, -1818244697, -1898242145, -1716408404, 679173261, -751391676, 178435203, -837513351, 1394455673, 1728724732, 1975276030, -1825514419, -2135498334, 2120558155, -1783880342, 1742572194, 169538853, -1288422196, -1113358016, -1101873095, -285227998, -990414119, 1175690068, 690491148, -138474955, 584397591, -826147129, 1943221304, 1426950424, 1726462107, -609973954, -822283295, -937110305, 1315204919, 1765976787, 162665485, 1918831517, -233076739, 1127704893, -982599627, -1683366485, -2122794253, -1288015124, 584918909, 1619739093, 2019749882, -1511167457, 2056071316, -437485664, 1804310222, -621967440, 1218700732, -264137687, 384671741, 2084007740, -787283693, -1496278014, 2112088380, 478433677, 697581924, -13411786, 1632997112, 734544818, -2108650537, 1387695541, 720293316, -1092823747, 1570691690, -1925047719, 403772699, 520766780, -957811515, 1152055593, 1279293131, 597624333, 163848021, 1420822341, 1077057513, -1791151941, 1793945621, -460452855, 2072684202, -1887899890, 558656589, -1576771156, 1066423464, 219855350, -287127689, -75306103, 286114106, -1993340992, 1610870985, 1187862315, 191683694, 516508112, 1617343392, -738250796, 1738327845, 954597534, 2132382793, 1641517025, -477364367, 1373202997, 413019780, 1932331965, 792256157, -1925306060, -1227270782, 464518326, 1622422377, 1852467548, 1530738160, 1899148796, 448525292, -980098824, -1210762665, 1219903228, -401816245, 694073745, 1479952013, 1848292256, -2130578887, -1712776887, -1394101851, 2057034706, 1569758387, -28634531, -1995175551, 138008538, 161806656, 1299614922, -1938011594, 232381684, 1921415534, -1538848344, 842175285, -1007853505, -333822686, -597376403, -961711552, 1486279989, 1813394876, -1737668425, 1602776066, 720207620, 1819880006, 1384244754, -2057957965, 955517750, -1844191255, -1741596398, -1783284329, -116031726, 171258711, -745584156, 2068556405, 476653282, 103892868, 1806699323, -863116588, 244176588, 1255176577, -951871816, 643835121, 1750263592, 1609674612, 445962310, 183241052, -777312905, -97989407, -1766889441, 260712024, 690784058, 772690783, -625158336, -801458092, 1505745935, 913978338, -2005924978, 474845179, -142723602, -99988423, 1936048620, 156411370, -92290977, -1936291914, 1937776620, -922303320, -228345303, 122062332, 658250746, -1083253171, 1659368538, 430220418, 1899025484, -1254856547, -1107239391, 151848178, -2145955307, 789250867, -1227144706, 1237136960, 475702552, 1961481227, -478412662, 164290432, 605652482, 825980526, -1055944225, -1285606070, -1875782325, -1886450949, -1331746986, 1839534526, -1122624043, -1700990428, 859816318, 1566606634, 1314718058, -948099486, -744984863, 1077288484, 1162625520, -1964712622, -2089028658, -111306986, 1854796936, -1121440225, 2050556892, -1886665215, -1190715371, 884296636, -840650384, 2083079085, 120995777, 2067171293, 798090996, 2052402202, -903456017, -411840171, 357131809, -868155518, -1821875078, -199551542, -2094748671, 281535734, -1133629924, 457934272, -667086656, -595078772, -82045246, 1163934164, 1440748557, -1559819396, -870895403, -913677692, -1737374227, -1843847299, -668922418, 1963046959, -375448470, 687888917, -1337629662, -403833180, 911146593, 1256586303, 1746365717, 1162865724, -2065461097, -64952628, -1120154020, 511565415, -1775747425, -1512824864, -1380949052, 2121729367, -944098457, 2054809718, -1557024590, 1656176460, 242068024, -1169444330, 93914882, -2023072661, 1943739407, -840781806, -193726760, 784878676, 937043943, 23171341, 1378941488, -1432804151, -1865045721, 997453318, 1254676072, 1473797374, 379331784, 1726817559, 278262663, -80307324, 1034987494, 1737988172, 1013189850, -918955773, 2028096368, 1146909577, 1862893144, 414163590, 809629765, -559026116, 1260124404, 1622658823, 283488192, 458016120, -1731822311, -2146425055, -1009666470, 615842259, -1437485312, 849377680, 1546918337, 1733921561, -936974336, -1761855010, 1762050565, -33624041, 1278636540, -578329336, -562760154, 367379204, -1617312902, -995071718, 45206924, 317562151, -2115088681, -795763159, 1345298958, 645330830, 1574121932, 783210860, -2099166947, -560804612, -1752783335, 736956818, 605001021, -1769659217, -461925880, -1779807569, 1550083448, -1776395232, -2136980350, -1028074382, 1145802087, 1381332288, 204637161, 1718330243, 2045685514, 550363454, 1999690465, 538797407, 947175181, 940622804, -1628466821, 226823632, 701684397, -1010396509, 1150504951, 226000914, 1913138725, -216429201, 728374334, 1295671408, 744849745, 1207643039, 1365320497, 1899120422, -89778616, 283560367, -808420096, -1242182347, 1011251230, -942284735, -414982914, -855821169, -1999232162, 1371204273, -1623837122, 1144996637, 416787273, -1910347747, -1293131490, 1817622800, 1990248874, -77444937, -1885429950, -2013912095, 1306188966, 1008820565, 975301044, -811094257, -48324356, -115086492, -552256051, 729305612, -1795092686, -763893699, 1529074693, -993881537, 1858474865, 2133941243, -221804693, -1247477881, -697180158, 1892974589, -2069056306, -123759246, 84797804, 1724257621, -616643606, -591416222, 1346731244, -1311361963, 739438794, -793150296, -994553586, -910398023, 575003432, 868846383, 753239020, 686360840, -636379434, 1569719711, 2064641826, -2073118402, -1121143551, -1584633793, -1012362977, 1926286834, -635454433, -295862079, 1028322623, 1407526592, 1631503247, -1759409073, 223303027, 559644941, -1335299254, 447771685, -2038520522, 509726123, 2122049165, -1894504752, -533157282, -54072163, -1048543626, -1941310591, 1638772765, -1042857142, -943275635, -884981546, 994565802, 804364366, 266391526, -2068383937, -928609901, -645091920, 2088066343, 1581036617, 1199176502, -957620429, 293739861, -1413939290, 209083429, 1825584472, 121620665, -713625026, -1654388030, -300742589, 1109643517, 519274515, -342004095, 701709534, 1093294878, -1855426723, 1323313714, -1109820154, -1892134767, 694630952, 719829019, 156362043, -80294677, -1858435268)
"mu" <- structure(c(-4.99147503728439, -5.09876658165695, -5.01236892251262, -5.03689020840193, -5.07670317405262, -5.0385773534881, -4.28496799252359, -3.20614282610688, -5.37137429889576, -4.66423172281114, -4.96036926248292, -5.50089668660294, -3.83319458284849, -2.9861368697053, -5.72404924977486, -3.169966564879, -4.8113372070375, -5.77585741523161, -3.91690177017653, -3.96308426162334, -4.60352921841694, -2.39704225250387, -3.52266394516215, -2.56902558584734, -3.72321759804922, -2.63139007161268, -3.48798305130921, -1.66281444009381, -3.71736438438362, -1.6447792074578, -4.43059811461301, -1.53951207752772, -4.35858029359238, -2.09206783342427, -4.72547847243182, -0.442264647207035, -2.57564578143696, -1.87154916059236, -4.58834078588152, -2.24775708985131, -3.31916238089565, 1.90584071820519, -2.15741760333559, -2.87880690100693, -1.14289278539577, -1.01867132674334, -2.75523211844517, 0.775568577068732, -0.511868866335162, -1.38536654027858, -0.465248165316386, -1.01650151898168, -0.696868626008476, 0.163189107543917, -1.53215447891437, -0.308293290876226, -0.28097102976641, -0.80783599210895, -2.13549490051612, -0.945241397499712, -1.14452452118447, 1.96125736902566, -0.951582740690245, -0.843515474259303, -0.946412229499109, -0.280050654255737, -0.469291090931077, 2.45507646500665, -1.09974898446095, -0.473793713574008, -0.00376791686200628, -0.513966692153624, 0.352239062505863, 3.40592429164104, 0.400426771910746, -1.09058098702203, 0.442617434725712, -0.0892617820139988, -0.344049183765553, 1.99973598142281, -0.160543337904922, -1.52173229880101, 1.10311837328795, -0.507625473596139, 0.344388642800952, -0.475784597623187, -0.372084596305079, -0.466782745049542, 1.96657452219694, -0.689041654390608, -0.213625074327199, -0.83193251189994, -1.09611563306162, -0.414944275670958, 2.74173878980337, -1.68927036521198, -1.85902566095037, -2.08025423113315, -3.36063228474046, -0.77171397091028, 2.56227487783508, -0.186510892427385, 0.116740621969294, -2.9444078391291, -5.58964572440317, -2.99698448474273, 2.99407736057227, -2.57193631517684, -0.34755109579567, -4.7700733564665, -5.65501787747297, -2.43995288058986, -1.38069441632431, -3.63902515831632, -0.360151593292359, -4.22435923845172, -6.57692316423646, -2.85781686743631, -2.33995989486019, -2.53732763006167), .Dim = c(6, 20))
"tau_obs" <- 1.56139460073284
"tau_proc" <- 0.665132476664659
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.03152707120764, -2.93529161218665, -5.62682143352007, -5.62682143352007, -5.62682143352007, -5.62682143352007, -4.53998150125268, -1.8829167632122, -4.53998150125268, -5.62682143352007, -5.62682143352007, -4.53998150125268, NA, -4.03152707120764, -5.62682143352007, -2.93529161218665, -5.62682143352007, -5.62682143352007, -3.24501396923639, -3.69607278418884, -5.62682143352007, -1.93052454973515, -3.69607278418884, -1.98051263011772, -4.03152707120764, -2.599159384297, -4.53998150125268, -0.667675378933285, -3.69607278418884, -1.46987021066156, -5.62682143352007, 0.65628623540281, -5.62682143352007, -4.53998150125268, -3.69607278418884, 0.28244132921539, -2.50826153633297, -2.69915335566306, -5.62682143352007, -1.17841886197356, -2.69915335566306, 1.31678063749515, -1.53336559479944, -2.81026845882755, -1.53336559479944, -2.14748345118878, -2.599159384297, -0.0647350929898851, -0.588172732416592, -0.709929869344222, -1.83747285085108, -1.24986261508958, -2.50826153633297, 0.54376846842893, -0.210732315329934, -2.20996889324303, -1.46987021066156, -0.695645735349935, -1.00962988892068, 0.26631272211576, -1.02923492550756, 2.75680497289931, -0.167994031729581, -0.381749577096813, -0.613977641063735, 0.535521302888246, -2.599159384297, 3.57823231161518, -1.75234744552965, 0.163663803379496, -0.832202726691689, -0.538478581733032, 1.18094709209741, 3.79206814586865, 1.41252002700771, -1.83747285085108, -0.600991952385723, 0.896523437913746, -0.0132565196671187, 1.55366459645601, 0.870206817285757, -1.27485833361738, 1.06844556692761, -1.17841886197356, -0.575515767064287, -0.695645735349935, 0.0559709878508895, -0.381749577096813, 0.462530338014032, 0.139347815767006, -1.32680601191085, -0.899444848892466, -0.769198629580437, -0.563017000255943, 1.43803122711501, -0.899444848892466, -2.27662053844541, -1.8829167632122, -2.81026845882755, -0.434948554174057, 2.24568255766146, 0.678064974235618, 1.5186538863447, -2.93529161218665, -4.03152707120764, -1.11174073279749, 4.40232012370812, -2.27662053844541, NA, -4.03152707120764, -5.62682143352007, -3.69607278418884, -0.769198629580437, -4.03152707120764, -0.273811209873728, -3.07820942207549, -5.62682143352007, -3.4453243315358, -1.43957306512941, -2.03313160883806), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
