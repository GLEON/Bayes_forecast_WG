######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-15 14:34:30 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(68, 1107406750, -229221631, -1228923748, -635320604, -1449869578, -664619746, -593995382, 644395683, 678466915, -1427328190, 1162751022, 199018738, 615144133, -1637063580, -2035081915, 626664968, 1264464641, 662066191, 1981689618, -1114197811, 1714544709, -1313874947, -1260212327, -1532363152, -10106693, 599215946, 2147190414, 1652156110, 219868039, 1491409353, 272388159, -2108954428, -1186128177, -293520185, 1097031595, -1296280980, -1116824710, 586883484, -849230737, 750245808, 235020735, 1932307411, 1435873250, 1255094214, -1286156819, -729490365, -2004212165, 1864735975, 1348553237, 4309914, 760486756, -1849527247, -1810105896, -1750067150, -202500019, -1924592627, 1397372534, 1003051634, 386575682, 303528831, -619849565, 1872000242, 1597756931, 1889026615, -809697366, 436132743, -1072339297, -1988338798, 515764083, 1065963590, -1846815818, 1940088008, -1426836634, 432229073, 1763730790, -496751870, 962834229, 1091164134, -1136034081, 1766115615, -1050217105, 2069586769, 870816006, 685040836, 870673099, 1647871746, -623193361, -1672974069, 898695099, 2017921520, 756218994, 1916658644, 166704620, 1756561005, -774648104, 493313190, -1119676170, 670284122, 2040549515, -1043003815, -220453875, -1465532717, 450389266, 1512381848, -1809920084, -219599120, -2111296353, -1749929234, -171357294, 741290964, -93724126, 168285153, -1584874404, -1971131252, 793107964, -295942134, -53191101, 357191619, -1842027874, 694177386, -126208816, -1029818365, 1714297168, 1650569322, 865927383, -489317181, -1335932479, -1459833026, -1196169566, 73092187, 1710253875, 369616418, 2071099208, -518033293, 1458330260, -1564553055, 1000119924, 1063367518, 464870114, 309631259, -1520389586, 1977583536, -129491789, -1074030276, 1881087699, -25905298, 1951346667, 262811831, 1499441344, -1115236026, -167093772, 1248334803, -874602106, 1722547419, 1208864455, 127174956, -677328437, -313250306, -2034277096, -1659390729, 356303192, 1849732129, -189648431, 1338820797, 464626559, -476179324, 113564119, 129471983, 280552468, 828976732, 1488532183, 1369983014, -87992103, 619255647, 957025953, 1082879309, -1254894780, 367749925, 1915636974, 1966244651, 1071566997, -1658832649, 1133389068, -1869372396, -869918666, -487392094, -259625651, -745582441, -721701114, 1456653865, -800156670, -2049053637, -780892985, 127900030, 453734616, 437655379, 2103386192, -1790183353, 1262139291, -447576159, -620125377, -1729358000, 1414815113, -2100952300, 1313769289, -884144318, 422447509, -1510372078, 1429181971, 1482600565, 2060342887, -748883225, -1702672879, -246408540, 531190685, 36883222, 339959710, -1161097309, -803468498, 1737539382, -106777985, -677481115, -938838831, -1757464398, 1788205531, 469380326, 1758105911, 1458190210, -833481108, -336943849, -1078401137, 1386221758, -2115758766, -1212263899, -1536613865, -1434622301, -1929906473, -1752665855, -1177298470, -2099700469, -498041097, 1075649950, 1036075057, 497403013, -1903862327, 1105635195, 1695887495, 2076848476, 1392402308, 631075000, -1292656238, 1746399114, 1665861882, -357177938, -1473146054, -815982667, 1058589705, -1571857287, -1261046727, -1038816956, -776766601, -338784423, -207761849, 1522586755, 826258205, -1826250294, 2109033979, 1869729543, 1459270277, -1431687485, 247966587, -593474295, -1956421615, 583068513, 4328332, 2146936982, 1063971697, -277044231, -558519499, -2000027220, -927632014, 615255873, -255860223, 525292759, 277568222, -1881391057, -2135391145, 1914987180, 1477677110, -2068841730, 542080716, 1192027337, 1805156965, 1769166305, -1562062685, 1668385454, 1292618253, 1415920879, -2086084405, -1317539805, -1188214468, 169908282, -260167204, 971265899, -518238819, 1177639402, 1269610923, 1785541065, -1882725837, -278097459, -1886397104, -406786239, 34067962, -1726239157, 1806838485, -353416133, -820068302, 1187848657, 948278871, -1918378446, -778072362, -91748999, -600017755, -311957298, 974919681, -1484093507, -1571482163, 711861746, -340197062, 1899430223, -1355394695, -2038394586, -8639185, 901291378, -69642305, 1703089351, 1527298173, -1256130517, 1507855986, 1034953140, -179137046, -124606684, -236342751, 153836938, 704514859, 1550509488, 724774779, 448373567, 1363246779, 790702151, 1804726545, -385663381, -774228129, -440532761, 1167093119, -1853755527, 1257303148, -1212768074, -1969581456, -982035308, -1008004502, 414791448, -24604170, 1526471647, 2044529964, -524253471, 1491503082, 328937078, -1280399712, 779526521, 515797337, -1917526396, -1595037776, 114260223, 813180938, -130179295, -1949289467, 723860878, 161687646, -1739470247, -1143731120, -955088083, -1060112843, 231459557, 1617137964, 1800744739, -422460673, -506194724, 2098847420, -941626386, 326717859, -703972868, 1035874346, 1564841218, -1222381577, 1591127722, 1303938041, 1593596260, 1888585433, -49788576, 1634480859, -211328422, -854637988, -1304927458, -9378803, 1251849366, 1241075169, 2042813848, -2056682627, 1959605771, -600907773, -422446129, 2074388143, -1007587540, 374432651, 663270095, 1239339278, -1803587001, 2027078712, 1287246877, -701626106, -1923192414, 1588947300, 320359535, -1816650274, 27341043, 187116143, 998944643, 207405841, -1459185411, 318856869, 1480179599, -2107152998, -1569275684, -964028592, 400574556, -1299729216, 1011882467, -2060089734, 1047997701, -490906738, -1534402042, 1316040088, 395041620, 146008117, -1906617892, -1788635639, -1692918952, 846260666, -1180333313, -1064860254, -225425926, -1776608034, -926310645, -509099229, -1219657120, -1416623833, 947123223, 1535970741, -741539225, 441552370, 1259025369, 1333690462, -936277576, -1540575899, 116200302, 1475796527, 2019196778, -435875429, 1704654059, 2101478154, 533322384, 2022406416, -1401513095, 1405237947, -861469679, -1478921343, 1474693756, 1435828491, -2033734906, -2084146048, 1612232856, 1596747090, -303256848, 987493844, -1475476784, 1008662973, 1133453962, -1330863752, 918415102, -2124102383, 1394579087, -1015549172, -1320666623, -86717548, -591351140, 928354625, -1342724944, -1154728544, -186337971, -2076901750, -1385830636, 881342312, -1277778645, -310288717, -561355941, 33080458, -1964186875, -78391092, 355765027, -2117126446, -1336817981, -802864296, 550016907, 676452586, 886977997, -2051166433, -1510959638, 1979995803, 1784613302, -1576515170, 124113353, 1473220561, -1545495239, -1330972856, -872886514, 1991076268, -1580309622, 961299401, -990648368, -803930999, 1378189245, 110380251, -1123032019, 1359654349, 1007116264, -789776875, -1729932586, -362587333, 1370820338, -54715075, 2034582359, 1659827122, 1564253016, -944217025, 1291539312, -1762737942, 1572855247, -1022503079, 660707774, 1257558197, -1220035425, 1420559124, -582892868, 794389752, 1165918549, -2109025396, 453678720, 1025031243, -1415106919, 272859784, -1399847398, -520646233, 902577255, 1853588299, 1985143246, 1743896050, 1459799476, -84208033, 2063452808, 982796301, 1143985182, 1500106066, -220630643, 2008139871, -501627361, 368565175, -945336261, 1003596704, -1145989457, 1905054048, 782828619, 1419380258, -880275286, 1563240475, -819854335, 2029472568, -1844798348, -519592447, 550465584, 885654526, -4306809, 261368802, -665052355, 1943144431, -885326148, 709691899, 104681551, -1053839634, -1289126682, 757360705, -475810005, -1461204167, -405918030, -1258333451, -1662202855, -647477979, 1082120987, 1555537133, -929629663, 1575543149, 430082793, -1358276419, 643542150, -1521672068, -354700650, -50004343, 599954114, 1422541867, 664266713, -1230209219, 1230382049, 1212774042, 1824019510)
"mu" <- structure(c(-4.98869188219485, -5.06769709433396, -5.05588468130494, -4.9822715225699, -4.8295654160114, -5.11903937490446, -4.09824721415887, -3.00709333474703, -5.8736168187998, -4.04097933228038, -4.31888790384136, -5.8582326113862, -2.70348175866474, -2.93848282773028, -5.37460625187638, -2.77510914183057, -4.19012441862504, -5.05881850960696, -3.28329002771395, -2.80648542441134, -5.18088933555088, -1.56756970104785, -4.45616989727943, -2.91200208686495, -4.47706115681585, -2.14607146260366, -5.13726610761962, -1.61955635626627, -3.75648529413423, -2.34583080552178, -5.33623123728005, -0.212606167653254, -4.38399491965112, -2.88620176174488, -2.75740824997021, 0.355576734773695, -2.05987041820683, -1.46985881819098, -4.77814028225675, -2.03673144102026, -2.47920141715962, 1.2000243185559, -0.484134486687135, -2.47782092344175, -2.8678298719907, -2.28385185047288, -2.28088544105758, 1.46706035437935, -0.944976107693329, 0.43424990027255, -1.80091536349859, -1.10692979722034, -1.12493033404172, 2.09886799982954, -0.767320858939053, 0.591572029908378, -0.434871145492206, -0.805822782677277, -0.529360107258455, 0.942428865648595, -0.874437636440436, 2.07732857978894, -0.391717929526343, 0.380506728168619, -1.80379060990252, 1.03642056043487, -1.12978118490726, 2.97058747338286, -0.432368006115569, -0.807304843032481, -0.18871248881757, -0.0933600796516219, 0.971909363164936, 1.50058097736493, 0.196457084414702, -0.485188095892381, 0.266871921252859, -0.322337252323473, 0.297460796585322, 1.29758203027067, 0.324554753801657, 0.282560770597758, -0.367017499332783, -0.199716973626485, -0.583530753613458, -0.371435961910997, -0.376943819840848, -1.52279525354602, 0.958001903672885, 0.00176605061370699, -1.55111556278456, 0.211793900173351, -1.02252817277216, -0.111898471042407, 0.99727795912225, -0.149035115255063, -2.46272200584046, -1.29816074401001, -2.78391855827118, 0.212742917010921, 2.59886622602653, -0.564835580358401, -0.591715297286374, -2.51869225169951, -3.07092623713444, -1.6100285200514, 2.12514042170991, -1.30112447692347, -0.996734844075775, -3.25189446088695, -4.57419971181701, -1.90498667118736, -0.748593446536693, -3.17331772902019, -1.57885371389141, -3.19802745632761, -5.3669749112858, -1.4612185582859, -1.65803571618379, -1.82533857617837), .Dim = c(6, 20))
"tau_obs" <- 1.12333530932972
"tau_proc" <- 0.837851698850027
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}

inits{
".RNG.state" <- c(16145, 30103, 26487)
"mu" <- structure(c(-5.06578723965559, -5.01844154974483, -5.0884686319352, -4.86035824756135, -4.97866742852471, -5.10232054658551, -5.57840740306405, -3.95269678226738, -5.51301726646105, -3.65130855923433, -4.40555627917039, -4.71946967050448, -4.1821341752924, -3.67437371932191, -4.85500676101028, -2.94743582541696, -4.53591606245004, -3.59660412970385, -3.75597449613633, -3.25690498800136, -5.51721590856452, -2.1392379816694, -4.78935654696909, -2.91901429714072, -3.82654411950679, -1.92471110758978, -3.68129718877646, -2.39896686920002, -3.88993925581899, -1.49980358002548, -3.14908595917206, -0.693958615483929, -3.5681392183267, -2.3048503276045, -4.1556855878823, -0.569189672258487, -2.71871050007818, -1.5600646546537, -2.43907159151428, -1.3235841833121, -3.13459534179895, 0.340480486178612, -1.84020100804021, -2.46153655906043, -2.03301130794231, -2.55999012134171, -2.9879169017847, 0.179859551844258, -1.6228380339427, -1.63511516633373, -1.55067313354472, -0.92063538164635, -1.52954980533278, 0.975829199574692, -0.699518923824134, -0.0645561308611703, -1.52034985071739, -1.55661615544535, -0.560173319415061, -0.337605826726201, -2.20156871831958, 1.99188605451738, -1.25815642331063, -1.21947532629253, -0.457912099110536, 0.19973050738449, -0.914396141528328, 2.99539594435508, -0.925307123207303, -0.48090125292528, -2.06592268021493, -0.188250493047626, -0.442054268695584, 4.10876521071754, 0.530948090805473, -0.724332682096779, 0.189638848193394, 0.049822843565582, -0.501765490582718, 2.11313280394582, 0.243239427964539, -1.33187116303038, -0.629384988830901, -0.424118380816035, -0.742913547473173, 0.336247805372422, -0.661142626935945, -1.45325148308336, 0.133846778163566, -1.17374939387556, -1.10636422074028, -0.716064519231017, -1.75659893129727, -1.70756906200848, 0.395333059668616, -1.05637923636484, -0.544984137456988, -1.48021705821445, -2.88033734411368, -0.474448352512256, 1.75529203372626, -1.5153970161473, 0.358405978982191, -2.40915980757222, -3.77685794335771, -1.76348495005535, 1.56266182023727, -2.71041677021239, 0.111139566729316, -3.68882492125314, -5.29160759078253, -2.54091250653588, 0.0522822138694993, -2.51341126309816, 0.498658968704628, -3.24944224404777, -4.21216958874422, -4.22581889627928, -0.80116541209172, -1.5035990148654), .Dim = c(6, 20))
"tau_obs" <- 1.01994464257002
"tau_proc" <- 1.17113465900146
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Wichmann-Hill"
}

inits{
".RNG.state" <- c(1295901441, 775377380)
"mu" <- structure(c(-5.1527323849608, -4.92318107408141, -4.9747999801863, -5.23542729819032, -4.95382901529705, -5.17933687382658, -4.46478096859923, -2.35548531028311, -4.75700580955468, -4.27539444195784, -4.43043020007173, -3.39848380342748, -3.60196793111839, -2.18187505650267, -6.07036561577709, -3.10207303938534, -4.52402214199271, -3.72100894985197, -3.28084875803025, -2.56608686778431, -5.94626315810701, -2.26153439460772, -4.90128862678699, -2.58501229318887, -3.98044816793068, -2.11207594426261, -5.66889154558569, -2.29972549269593, -4.38102921278854, -1.07778745634366, -2.3792363105652, -1.22217739358776, -4.77740221329199, -3.57106350180323, -3.94625009070292, -1.13528816118034, -2.59768052864926, -2.50784274506229, -4.22402776531638, -3.12962441728438, -3.2340620950329, -0.00147925377339442, -2.21764943859269, -0.260547279075703, -3.18220174199591, -2.24282917474045, -2.54651786747217, -0.328254749375235, -0.630683608609318, -0.639432331397116, -1.5336368121484, -0.634810515099808, -1.05090097494903, 0.117693191174098, -0.378479982294013, -0.61274805119646, -1.32336439580162, -0.257186057382914, -0.875606010591474, -0.721593820689982, -1.832834803479, 2.31507031784884, -0.921387678259252, 0.527972379966087, -2.22359835346929, 0.38118757702243, -2.22600030496379, 3.77687564470211, -0.0292037793430088, 0.241282613654519, -0.26384520806585, -0.236440672134898, -0.249763025096257, 1.77082274681248, 0.815869561362917, -0.715474973843868, -1.27240120287902, 0.450158185352523, 0.196225146751696, 1.76036178574734, 0.278473986593872, -0.280219359063818, 1.18305581808816, -0.632261707628463, 1.58610609318612, 1.19811739708039, -0.32387246253836, 0.560292710774743, 0.243388213816739, -0.0805701419201982, 0.434958455992826, -0.521449633774946, -1.71160953158478, 0.537519156915949, -0.411093520756095, -1.31856575900327, -0.567018296218903, -1.65496316422614, -2.04476952925162, 0.540315105187392, 1.35433192284292, -0.521124979203904, 1.01650767250579, -1.76979176615908, -3.70176299309058, -0.715460785980982, 2.15967136534455, -1.92544472115231, 0.00392471678868733, -2.46669750894889, -3.84953549199593, -2.24607311656853, 0.0381670553816074, -2.76099337088322, 0.134256755200616, -2.39699678266485, -4.59127108914681, -3.3550198560929, -1.83133442198728, -2.30725872007664), .Dim = c(6, 20))
"tau_obs" <- 1.15153693171402
"tau_proc" <- 0.927932691025338
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-3.85980369014249, -2.86343927118061, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.26355862228935, -1.85743696973239, -4.26355862228935, -4.95159275346247, -4.95159275346247, -4.26355862228935, NA, -3.85980369014249, -4.95159275346247, -2.86343927118061, -4.95159275346247, -4.95159275346247, -3.1683696152567, -3.57297780368645, -4.95159275346247, -1.910055720008, -3.57297780368645, -1.9584839181152, -3.85980369014249, -2.55012206191651, -4.26355862228935, -0.661508725238449, -3.57297780368645, -1.45640727768747, -4.95159275346247, 0.658075359447239, -4.95159275346247, -4.26355862228935, -3.57297780368645, 0.285233178195202, -2.46425572610276, -2.64405992074449, -4.95159275346247, -1.16773044583689, -2.64405992074449, 1.31776713186147, -1.51835421625552, -2.74774570870643, -1.51835421625552, -2.11966258526556, -2.55012206191651, -0.0607354836898151, -0.581476769814426, -0.703051798172265, -1.81356262524385, -1.23762564284707, -2.46425572610276, 0.545848385406104, -0.206935445467576, -2.17972929416229, -1.45640727768747, -0.689011472830919, -0.999476338867932, 0.269318592960969, -1.0186775184919, 2.75703540249097, -0.163611130691224, -0.376772502579018, -0.606837133839059, 0.537704412220319, -2.55012206191651, 3.57834089259093, -1.731198082625, 0.166422615608164, -0.825371688593113, -0.532607577803059, 1.18205601731843, 3.79213688288921, 1.41344057964001, -1.81356262524385, -0.594076560473089, 0.897748741042104, -0.00997747407868495, 1.55436319024868, 0.871741857734603, -1.26205351705275, 1.06955146236881, -1.16773044583689, -0.569033760516405, -0.689011472830919, 0.0592798458080164, -0.376772502579018, 0.464408088230409, 0.142429802890188, -1.31277577255996, -0.891422193820534, -0.761271566892886, -0.556743678768707, 1.43890392109862, -0.891422193820534, -2.24363589004942, -1.85743696973239, -2.74774570870643, -0.429134835254822, 2.24602237489292, 0.679591787844505, 1.5193101505469, -2.86343927118061, -3.85980369014249, -1.1024030572059, 4.40235696751028, -2.24363589004942, NA, -3.85980369014249, -4.95159275346247, -3.57297780368645, -0.761271566892886, -3.85980369014249, -0.269093075706006, -3.01446390455736, -4.95159275346247, -3.3503483160569, -1.42681583503013, -2.00937729712331), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
