######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-04-20 12:26:22 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(278987880, -991230589)
"mu" <- structure(c(-4.80251781982767, -5.06143542065837, -5.10305338500406, -4.86568258354532, -5.2217505756816, -5.15951854040014, -3.82649054337104, -1.95624401853296, -5.18968003484988, -6.42377542597621, -4.35077554983234, -4.84397352617214, -4.3643431557162, -2.92245967740351, -5.12141831747955, -4.00138661221382, -3.61049060369618, -3.41748399678469, -3.3078931906349, -3.08610114837755, -5.63446604781511, -2.17645831487241, -2.98332800201666, -2.81969559918722, -2.57882242622313, -2.46216593716553, -3.48266107923626, -1.68208238896551, -3.47600416350764, -1.36689500114481, -3.82947944656666, -1.43892929426427, -5.75481102162823, -1.9288393328486, -3.27655772920572, 0.37580164388563, -2.11083479605579, -2.21452664287813, -3.18443060670889, -0.77033065021379, -2.27652019461849, 1.11279129897076, -1.49558170453161, -2.90404201039368, -2.36896509346619, -1.4003089445582, -3.30787329039107, 0.400523135958383, -0.539127300271551, -1.99631132079453, -1.42324559198464, -2.19315523832581, -1.07006031532692, 0.666186433951076, -0.697847249635927, -2.19087969912824, -1.64063885724117, 0.528333666668745, -1.55147693250171, 0.204485421948788, -0.667286493245372, 2.13927996718837, -2.09014523876553, 0.420136115647994, -1.4045606064189, -0.0282827254205475, -1.26829793504649, 3.52173667345576, -1.80155254132647, 0.764041800031282, -0.834513599663693, -0.0238348269915784, -1.07067461700022, 2.70651199732432, -0.116075915962705, -0.994284160117079, -1.22927188476742, 1.44828364667956, -1.29373228118918, 0.956413858826645, -0.212917204163905, -0.244916475274311, -0.333994534559742, -0.715897053349495, 0.523682717323622, 0.632431449896917, -1.63194314821493, -0.251330118139408, -0.282893900970215, 1.40105428461872, -0.847835063855754, -0.0434204149455417, -1.77791244696687, -1.12228565732526, 1.79532585134003, 1.4007257525726, -1.39676268543634, -1.25307812692657, -1.66277454971353, -0.780870262369341, 2.04174157640706, 0.0436649859780985, -0.837757247652391, -1.35388254274638, -3.504551676174, -1.0372153525964, 2.83664356769359, -1.48840943396775, 1.65956842173963, -3.29249432801715, -4.17509069046552, -2.37510600829437, -0.519260942886843, -2.47639508701701, -0.910908569569119, -3.67812564124658, -3.84940649794625, -2.20628757905736, -2.17027222512359, -2.05217245956722), .Dim = c(6, 20))
"tau_obs" <- 1.18488712254386
"tau_proc" <- 0.5697979189059
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(442, 984566812, -1832751500, -18742229, 750803953, 1255423074, 320927076, -911391795, 135166286, 321255694, -17168229, -1515427302, 2136212532, -693016759, 459403842, 1201615661, -1790571389, -1531125482, -2117175686, -1002696183, 293389679, -1199669657, -613356010, -677827007, 555708219, 1249709741, -1905185443, 1257349910, 309799067, 393099665, 1239610742, 1139145984, -994782894, 1487433156, 1908886182, -1915762773, -892994737, 1212891626, -2126425860, 167281162, 710896131, 968532973, -1729091288, -2132215207, 1472899511, -481445956, -766510708, -1795101933, -332697959, -408364167, 1374745715, 100005094, 289544601, 1100208559, -2138059394, -1719056184, 468536330, -256316853, 1708620385, -2790230, 1288657137, 206063291, 2062377972, 718173195, -548474569, -397010692, -177056940, -127715034, 1933966559, 2035126632, -951183544, 1996485487, 932826464, 459946458, 1503564220, 661786070, 452664233, 1705884288, 926826359, 1527892839, 221015741, -996456556, -1650803022, -1830535510, 1378731182, 553111829, 1291884505, -676645947, 690003073, 1982321071, -872898935, -1139917860, 1431059995, 1962868483, -1482352404, -1340579956, 1923594955, 1093145958, -103355775, -1226626826, 251469782, 2145814921, -1952430989, 536871714, -377145015, 156642920, -1716519225, 24627621, 744532458, 1576849980, 117413934, -924969754, 663473339, -1066844063, -164171397, -1813367295, 378383639, -257338317, -977486486, 1066021675, -1543368492, 699758555, 1961782168, 1852072732, -180013910, -995545544, 1488114232, 449719951, 1865811639, 566342413, 900623081, 380238411, -1165102851, -1129160329, -1695647745, -756737067, -544501914, -1121322825, 406748541, -298755988, 406362121, 1483027026, -1428613557, 2067030840, -28859646, 188593385, 275336118, -151937793, 7718742, -1900471190, -671754689, 2025252471, 1089686423, 275738519, -187415739, -1129589931, 1611150449, -498769267, 547410692, 665509534, -25794334, 1504992411, -1459715918, 1915783543, 1612186872, -1550569822, -1965930700, 1591898715, 1389081946, -1249947629, -1392633010, -1989925392, -1983620039, -953917719, -1314848037, 2013764918, 1176298109, -537275867, 506680153, 1027953956, -991918696, -1775259513, 350997859, -505419396, -793327830, 1120982999, -768170425, -1624224230, -2107086051, -371220935, -953305140, -617519180, -1610965726, 295813625, -991554311, -1845867306, -710850114, 1109815982, -1571781098, 1107879078, 1112904580, -955989982, 89687843, 358981879, -1088281088, 138614814, 2146487457, -1330546209, 1747856879, -390918870, 1190534569, -528091795, 223327159, 1180226189, -1635414639, 131241114, -1366070976, -499383564, 166780347, 269110650, -788006274, -1565882650, -72189942, -1276934840, 117926921, -1798152891, 1309283263, -1396006936, 358248979, -1454562782, 1763803342, -1645206737, 237705264, 484737213, -967956976, 1032921333, -1926246052, 1631152132, -1165425990, -42319018, -1498801743, -860507052, 1426993824, 1318638739, 224595580, 1765240136, -1792281212, 1000006851, 1514616661, -1542449524, -1678046907, 1920803486, 1424825155, -894983903, -107955899, 1405409482, -1966505443, 1686692566, -2081541653, 1552002356, 120306659, 685469266, 475184985, -1920770901, 1691743807, -1213646575, -677397434, -1793763332, 268167479, -1187174300, 653612465, 1304642351, -1933253623, 1712999410, 485506275, 1098204355, -578260665, 753727971, 1239584677, -818015587, 1728799282, -2053795606, 552995094, -1040411493, -340849964, 1121071721, 1549137576, -1906128510, 1584727444, -400357748, -1938039678, -1140585659, 1514469754, -1413981312, -696659610, -1339482128, -526698097, 1760465007, -1626803229, 776118860, 1184804304, 1089822099, 799782365, 1006348568, -2014137201, 746808546, 1080622050, -1071295895, -885586635, 452629796, 371255761, -1402862022, 197613666, 1875112590, 1212703800, 791046913, -951463310, -1919220071, -102245934, -129816489, -1707273631, 715092069, -1098562044, -564775769, 767122033, 1365970902, 361032885, 1852063262, 791786394, 1719406765, 1599700129, -569384991, 711509821, 1530637715, -890499466, -1949561046, -585561481, -2143075187, 1356111204, -1666232516, -762625444, -1629995896, 691843438, 48835344, -1525779944, -1850351450, 1142251335, 1599330373, -1518934560, 199048288, -146044371, 518948135, 1437754737, 1790339164, 1294067035, 715270959, -1886891323, 1683578866, 4115263, 98308201, 1938678510, -1777192097, -258495042, 1824759884, 1148909244, 634544228, 1912349776, 2137509939, 1646117607, -1477847841, -1949056771, 889291582, 1503776056, -715676774, 1841017661, -781001501, -1271788654, 309297999, -1214720673, -1925033380, 632344196, -1420424754, 1073593200, -1836114724, -1330753357, -1748135140, -1188264777, 1783356304, -1511843739, -1619060481, -1671317105, 1536053710, -1093399, 954028049, 481380222, -1273461245, 919807547, -180782327, 913926337, 1664643218, -1268359750, 1917707272, -1081529474, -1508640500, 2035747003, -1441461443, -791447939, -1110869520, -1510676082, 1028453493, 510192737, -965900839, -347299610, -1946502870, 785594688, -79795670, 555704707, -1419992605, 820236197, 170699136, -898768491, -1065897820, 1889876652, 1491456144, -1773386591, -2070165886, 291340710, 1299594810, 1740170846, -1690756697, -2004498457, 267858223, -711361497, -1578809846, -1844544295, -77747370, 267975728, 1918393643, 335492441, 1133243581, -903934065, -483219699, -776235081, -1716137667, 115259005, 945206416, 90342902, 542178300, 102996331, -1745384082, -78246413, -1747610740, -1067747430, 747178692, 2045020441, -1724171473, 1311216624, 874177741, 370068303, -850244027, -1050511992, -744560373, -1120511361, -1042881004, -1304823839, 1662651003, -467891407, 1572809784, -1863072712, -389134028, -705188917, 1865499889, -309039885, 946973207, -1223308499, -76271749, 592189072, -424010770, 790586433, 61160400, -1338931493, -1851768096, -203695639, -423184553, 1126435671, -1730831221, -1443653360, -901888656, -1528648281, -1548785123, 491209807, 714064241, 1549907459, 1760110740, 1987679645, -1258985684, 244251814, 473127377, -421803539, -16509348, 2004988573, 1670452186, 1892817496, 591072743, 2109205237, 1616262677, 1904917047, -1530969876, 383029679, -1106560090, -1687267307, -2142129244, 680311030, -2051007021, 1089125714, 970216106, 1944564032, 1038261016, -153612339, -690645047, -397777008, 1268784709, 233175135, 1841422472, -101605641, -631679916, -1607413858, 1360507617, 1874073889, 2130642734, 263573029, -1335369329, -356598927, -1173094246, 1995120948, 66812232, 1800777565, 738743223, -659350999, 959402813, -1179307743, 1571006530, 922315205, 1143147810, 559011147, 1363325640, -319135368, 36951270, 631334764, 1959259173, 6952411, 1186593058, 221957315, -1897765803, 337439222, 1325134444, 394941885, -1870409045, 523880576, -1590940539, -1598242917, 2046531855, -904922663, 759951443, -812784533, 1905540821, -1031965132, -351819506, -1516484843, 1745055958, 1715916295, 2044822911, 1968894566, -2079267041, 2069311518, 1220235486, 407664380, 1756646161, -1763561750, 614953424, -1712172147, 1723232475, 70772730, 1627149739, -1289042641, 1315019368, -119439723, 235557183, -1900885371, 1174531734, 1895302618, -1579520159, -356893408, 164277300, -1418129622, 887953773, 209819492, 784588922, 2089147561, -2138589926, 1626813132, -1321040463, 1892337228, -1322839632, -468055888, -1914800676, -57071574, 568160135, 970622324, 2082969752, 425789480, -1987751727, -1653901894, 1128412470, -1476353834, -369502339, 175339080, 731785390, 320273182, -833646174, 793989579, 869665148, -1479381093, 1690970764, -1469129465)
"mu" <- structure(c(-5.12499796521188, -5.06192573649363, -5.05517741380442, -4.92671746296656, -4.90570214869393, -5.15157192589294, -3.42825955601404, -2.58822389090228, -4.61138652781274, -5.38785049170162, -4.32575527581893, -4.80810943438924, -2.46107843254787, -3.5101429678373, -5.9410869391596, -3.04726337368071, -4.53534268341597, -4.23377189409153, -3.26342503925096, -3.32993392238988, -5.06572726476628, -1.81359600899005, -3.79266850172247, -2.27425806226314, -3.68228218917367, -2.3184652460001, -4.75472498115958, -1.28554702219693, -3.99122434234657, -1.00761899327088, -4.79940889783885, -0.775590298296037, -3.58548879620258, -3.83647826508527, -2.55781885267296, -0.513668829663532, -2.96773590494113, -1.7253276322449, -4.16751279092882, -1.99935989478488, -2.42150305406034, 0.891487583616709, -1.12706035251495, -1.41452118163867, -1.75965214162258, -2.94193403369597, -2.11866794411685, 0.277133976905819, -0.742190743457977, -1.31742366603788, -1.21441251722711, -2.11125711850627, -1.85354168800754, 0.684827914365926, 0.772305858519389, 0.157149091691944, -0.863100371573793, -1.08079146526658, -0.40682149632817, 1.01282968199841, -1.25721423227168, 3.18187436401458, 1.32440684137322, -0.724327074760618, 0.728735944918291, 0.337655526121764, -2.03941070901038, 3.5288862255819, -1.41463086806061, -0.0178181390050297, -0.625932253300101, 0.321565905756572, -0.553726493546956, 3.3097148008868, 0.933364582046582, -0.69069693970698, 0.173844020369191, 1.40346896320297, 0.31304807013512, 1.93758569621196, 1.03154255808716, 0.828202876855031, -1.15352839760508, -0.508327109020035, -0.458289511458635, 0.986524274785803, -0.351397371679497, -2.41046149031542, 0.259139488220867, -0.647236392933487, -0.67003389276992, 0.175215001770996, -0.840427998585876, 0.177015859555015, 0.922954208890531, -1.14984982515744, -0.102082437272271, -1.23975608988635, -3.67173440656536, -1.11469779654612, 2.73432378552632, -0.615500238326807, 1.21040650109019, -3.18016181453157, -4.05709054550185, -3.05898995390568, 2.41151112028757, -1.79954057617897, 1.38565743981036, -2.80801977044031, -3.42126140323607, -3.43533780885128, -0.233329714314634, -2.81019991433557, -0.779866821171224, -3.05748052714116, -4.98380393536504, -2.57373042700461, -0.592236851574862, -3.48848919741369), .Dim = c(6, 20))
"tau_obs" <- 1.38305747084343
"tau_proc" <- 0.51029785663107
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}

inits{
".RNG.state" <- c(3085, 11736, 392)
"mu" <- structure(c(-5.01143825317625, -5.0807486855006, -5.02104793070723, -4.96337480313013, -4.88030427309383, -5.0865585952975, -4.10948129417538, -2.94600182875094, -5.3690929125589, -4.60936862657788, -4.66317657859247, -4.80994297422615, -5.14087271001522, -3.87148101312838, -4.53457116899019, -2.68404967234014, -5.03492144310624, -3.83962944738678, -3.94438776010661, -3.8124544338108, -5.06566141211281, -1.7375394744096, -3.97796719992551, -1.82984857441241, -4.03514363629426, -2.34581896460562, -3.88319283874085, -0.542610535042146, -4.43386261704161, -0.957217483512523, -4.02233343831502, -0.724265159316484, -3.84640404253891, -3.569168691648, -4.03166408975448, 0.242209355758788, -4.23413912288324, -2.37577317775018, -3.7930711018312, -1.84111265179859, -2.77488151399182, 1.31907106333563, -2.19971788749212, -1.61076189593325, -2.53465951855973, -2.39009761352516, -3.01815725222806, 0.130058395613448, -0.580631367412865, -0.608252105452046, -0.93763367553931, -1.08823255478146, -2.37767282801072, 0.256247731528005, -0.73393668074272, 0.0698383458421248, -1.9990240031324, -0.793591395143507, -1.41775300748937, 0.0576757196542959, -0.197649126461524, 2.56527780527156, -0.537635195303327, -1.07921678195004, -0.477629181135395, 0.724046469406132, -0.661047847349378, 4.08085691139405, 0.390145792659974, -0.461842545430367, -1.28357268665152, -0.0402287579683615, 1.79113843634177, 2.95410092032239, 0.912833324533203, -1.68618243843089, 0.194517578440039, 0.603642334982773, 0.794001198925637, 0.71018941171765, 1.255466734267, -0.760206463934211, 0.752609185852272, -0.904222209503035, -0.517084771610772, -0.146872387995362, -0.0213042383736621, -1.19770965640961, 0.639643218725684, -0.374559819447911, -0.69937173681549, -1.34240677057294, -1.09082325793988, -0.668215708080143, 2.34773998027838, -0.366997902680337, -1.43562413844737, -1.84597786415098, -2.10242848827111, -0.47607989153484, 2.17036208459054, 0.372606829399679, 0.979899031815713, -3.03298619845075, -3.92370085340903, -2.07599389180156, 3.84237206525466, -1.54487320609819, -0.20801279129694, -3.76490504613328, -4.80676209495468, -3.26365380144316, 0.0207178108735256, -3.09104556098994, 0.223977465975512, -2.47492694574771, -5.00108905326994, -3.22093162522106, -1.63141919808555, -3.2617405359175), .Dim = c(6, 20))
"tau_obs" <- 2.10637955806591
"tau_proc" <- 0.657548569433437
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Wichmann-Hill"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-3.85980369014249, -2.86343927118061, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.95159275346247, -4.26355862228935, -1.85743696973239, -4.26355862228935, -4.95159275346247, -4.95159275346247, -4.26355862228935, NA, -3.85980369014249, -4.95159275346247, -2.86343927118061, -4.95159275346247, -4.95159275346247, -3.1683696152567, -3.57297780368645, -4.95159275346247, -1.910055720008, -3.57297780368645, -1.9584839181152, -3.85980369014249, -2.55012206191651, -4.26355862228935, -0.661508725238449, -3.57297780368645, -1.45640727768747, -4.95159275346247, 0.658075359447239, -4.95159275346247, -4.26355862228935, -3.57297780368645, 0.285233178195202, -2.46425572610276, -2.64405992074449, -4.95159275346247, -1.16773044583689, -2.64405992074449, 1.31776713186147, -1.51835421625552, -2.74774570870643, -1.51835421625552, -2.11966258526556, -2.55012206191651, -0.0607354836898151, -0.581476769814426, -0.703051798172265, -1.81356262524385, -1.23762564284707, -2.46425572610276, 0.545848385406104, -0.206935445467576, -2.17972929416229, -1.45640727768747, -0.689011472830919, -0.999476338867932, 0.269318592960969, -1.0186775184919, 2.75703540249097, -0.163611130691224, -0.376772502579018, -0.606837133839059, 0.537704412220319, -2.55012206191651, 3.57834089259093, -1.731198082625, 0.166422615608164, -0.825371688593113, -0.532607577803059, 1.18205601731843, 3.79213688288921, 1.41344057964001, -1.81356262524385, -0.594076560473089, 0.897748741042104, -0.00997747407868495, 1.55436319024868, 0.871741857734603, -1.26205351705275, 1.06955146236881, -1.16773044583689, -0.569033760516405, -0.689011472830919, 0.0592798458080164, -0.376772502579018, 0.464408088230409, 0.142429802890188, -1.31277577255996, -0.891422193820534, -0.761271566892886, -0.556743678768707, 1.43890392109862, -0.891422193820534, -2.24363589004942, -1.85743696973239, -2.74774570870643, -0.429134835254822, 2.24602237489292, 0.679591787844505, 1.5193101505469, -2.86343927118061, -3.85980369014249, -1.1024030572059, 4.40235696751028, -2.24363589004942, NA, -3.85980369014249, -4.95159275346247, -3.57297780368645, -0.761271566892886, -3.85980369014249, -0.269093075706006, -3.01446390455736, -4.95159275346247, -3.3503483160569, -1.42681583503013, -2.00937729712331), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
